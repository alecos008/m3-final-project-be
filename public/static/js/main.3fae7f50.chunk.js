(this["webpackJsonpm3-final-project-fe"]=this["webpackJsonpm3-final-project-fe"]||[]).push([[0],{132:function(e,t,a){},135:function(e,t,a){},136:function(e,t,a){},138:function(e,t,a){},140:function(e,t,a){},141:function(e,t,a){"use strict";a.r(t);var c=a(2),r=a.n(c),s=a(70),n=a.n(s),i=(a(81),a(4)),o=a(12),l=a(13),d=a(15),h=a(14),j=a(7),u=a.n(j),p=a(8),b=(a(99),a(20)),m=a(21),O=a(11),x=(a(67),a(1)),g=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:"",errorMessage:""},e.handleChange=function(t){var a=t.target,c=a.name,r=a.value;e.setState(Object(b.a)({},c,r))},e.handleSubmit=function(t){var a=e.state,c=a.email,r=a.password;t.preventDefault(),u.a.post("".concat("https://tradehub-app.herokuapp.com/api","/auth/login"),{email:c,password:r},{withCredentials:!0}).then((function(t){e.setState({email:"",password:""}),e.props.setUser(t.data,!0),e.props.history.push("/")})).catch((function(t){e.setState({errorMessage:t.response.data.errorMessage})}))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state,t=e.password,a=e.email,c=e.errorMessage;return Object(x.jsx)("div",{class:"auth-form",children:Object(x.jsxs)(O.a,{onSubmit:this.handleSubmit,children:[Object(x.jsxs)(O.a.Group,{className:"mb-3",children:[Object(x.jsx)(O.a.Label,{htmlFor:"email",children:"Email"}),Object(x.jsx)(O.a.Control,{type:"email",name:"email",value:a,onChange:this.handleChange,placeholder:"example@example.com"})]}),Object(x.jsxs)(O.a.Group,{className:"mb-3",children:[Object(x.jsx)(O.a.Label,{htmlFor:"password",children:"Password"}),Object(x.jsx)(O.a.Control,{type:"password",name:"password",value:t,onChange:this.handleChange,placeholder:"Password"})]}),c&&Object(x.jsx)("p",{children:c}),Object(x.jsx)(m.a,{type:"submit",children:"Login"})]})})}}]),a}(c.Component),y=a(145),f=a(36);a(103);var v=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:"",profilePic:"",email:"",city:"",imageIsUploading:!1,errorMessage:""},e.handleChange=function(t){var a=t.target,c=a.name,r=a.value;e.setState(Object(b.a)({},c,r))},e.handleImageUpload=function(t){console.log(t.target.files[0]),e.setState({imageIsUploading:!0});var a=new FormData;a.append("image",t.target.files[0]),u.a.post("".concat("https://tradehub-app.herokuapp.com/api","/upload"),a).then((function(t){console.log(t),e.setState({profilePic:t.data.imagePath,imageIsUploading:!1})})).catch((function(t){return e.props.history.push("/error")}))},e.handleSubmit=function(t){var a=e.state,c=a.username,r=a.password,s=a.email,n=a.city,i=a.profilePic;t.preventDefault(),u.a.post("".concat("https://tradehub-app.herokuapp.com/api","/auth/signup"),{username:c,password:r,profilePic:i,email:s,city:n}).then((function(t){e.setState({username:"",password:"",email:"",city:"",profilePic:""}),e.props.setUser(t.data,!0),e.props.history.push("/")})).catch((function(t){return e.setState({errorMessage:t.response.data.errorMessage})}))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.password,c=e.email,r=e.city,s=e.errorMessage,n=e.imageIsUploading;return Object(x.jsx)("div",{className:"sign-up-form",children:Object(x.jsx)("div",{class:"add-product-form",children:Object(x.jsxs)(O.a,{onSubmit:this.handleSubmit,children:[Object(x.jsxs)(O.a.Group,{className:"mb-3",controlId:"formGroupEmail",children:[Object(x.jsx)(O.a.Label,{htmlFor:"username",children:"Username"}),Object(x.jsx)(O.a.Control,{onChange:this.handleChange,type:"text",name:"username",value:t,placeholder:"Username"})]}),Object(x.jsxs)(O.a.Group,{className:"mb-3",controlId:"formGroupEmail",children:[Object(x.jsx)(O.a.Label,{htmlFor:"password",children:"Password"}),Object(x.jsx)(O.a.Control,{onChange:this.handleChange,type:"password",name:"password",value:a,placeholder:"*******"})]}),Object(x.jsxs)(O.a.Group,{className:"mb-3",controlId:"formGroupEmail",children:[Object(x.jsx)(O.a.Label,{htmlFor:"email",children:"E-Mail"}),Object(x.jsx)(O.a.Control,{onChange:this.handleChange,type:"email",name:"email",value:c,placeholder:"Enter E-Mail address"})]}),Object(x.jsxs)(O.a.Group,{onChange:this.handleImageUpload,controlId:"formFileSm",className:"mb-3",children:[Object(x.jsx)(O.a.Label,{htmlFor:"profilePic",children:"Profile Picture"}),Object(x.jsx)(f.RingLoader,{loading:n,size:150}),Object(x.jsx)(O.a.Control,{type:"file",size:"sm"})]}),Object(x.jsxs)(O.a.Group,{className:"mb-3",controlId:"formGroupEmail",children:[Object(x.jsx)(O.a.Label,{htmlFor:"price",children:"City"}),Object(x.jsx)(y.a,{children:Object(x.jsx)(O.a.Control,{onChange:this.handleChange,type:"text",name:"city",value:r,placeholder:"Enter city"})})]}),Object(x.jsx)(m.a,{type:"submit",disabled:n,children:"Register"}),s&&Object(x.jsx)("p",{children:s})]})})})}}]),a}(c.Component),C=(a(35),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={title:"",description:"",category:"",isActive:!0,edit:!1,errorMessage:""},e.handleChange=function(t){var a=t.target,c=a.name,r=a.value;e.setState(Object(b.a)({},c,r))},e.handleSubmit=function(t){var a=e.state,c=a.title,r=a.description,s=a.category;t.preventDefault(),u.a.post("".concat("https://tradehub-app.herokuapp.com/api","/thread/create"),{title:c,description:r,category:s},{withCredentials:!0}).then((function(){return e.props.history.push("/forum")})).catch((function(t){return e.setState({errorMessage:t.response.data.errorMessage})}))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state,t=e.title,a=e.description,c=e.category,r=e.errorMessage;return Object(x.jsx)("div",{class:"create-thread-form",children:Object(x.jsxs)(O.a,{class:"add-thread-form",onSubmit:this.handleSubmit,children:[Object(x.jsxs)(O.a.Group,{className:"mb-3",controlId:"formGroupEmail",children:[Object(x.jsx)(O.a.Label,{htmlFor:"title",children:"Thread Title"}),Object(x.jsx)(O.a.Control,{onChange:this.handleChange,type:"text",name:"title",value:t,placeholder:"Enter title"})]}),Object(x.jsxs)(O.a.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[Object(x.jsx)(O.a.Label,{htmlFor:"description",children:"Description"}),Object(x.jsx)(O.a.Control,{onChange:this.handleChange,type:"text",name:"description",value:a,as:"textarea",rows:3})]}),Object(x.jsxs)(O.a.Select,{onChange:this.handleChange,id:"thread-category-select",name:"category",value:c,children:[Object(x.jsx)("option",{children:"Choose a category..."}),Object(x.jsx)("option",{value:"Mobile, Computers & Devices",children:"Mobile, Computers & Devices"}),Object(x.jsx)("option",{value:"Consoles & Videogames",children:"Consoles & Videogames"}),Object(x.jsx)("option",{value:"Fashion",children:"Fashion"}),Object(x.jsx)("option",{value:"Sports & Outdoors",children:"Sports & Outdoors"}),Object(x.jsx)("option",{value:"Home & Garden",children:"Home & Garden"}),Object(x.jsx)("option",{value:"Health & Beauty",children:"Health & Beauty"}),Object(x.jsx)("option",{value:"Cinema, Books & Music",children:"Cinema, Books & Music"}),Object(x.jsx)("option",{value:"Vehicles & Motor",children:"Vehicles & Motor"}),Object(x.jsx)("option",{value:"Art & Collectibles",children:"Art & Collectibles"}),Object(x.jsx)("option",{value:"Toys & Kids",children:"Toys & Kids"})]}),Object(x.jsx)("br",{}),Object(x.jsx)(m.a,{type:"submit",children:"Post Thread"}),r&&Object(x.jsx)("p",{children:r})]})})}}]),a}(c.Component)),k=C,S=a(24),N=a(9),F=a(3),I=(a(132),c.Component,function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={threadList:[],filteredList:[],isFiltered:!1,activeCategory:""},e.handleThreads=function(){u.a.get("".concat("https://tradehub-app.herokuapp.com/api","/thread/all"),{withCredentials:!0}).then((function(t){e.setState({threadList:Object(S.a)(t.data),filteredList:Object(S.a)(t.data)})})).catch((function(t){return e.props.history.push("/error")}))},e.handleFilter=function(t){console.log("filter magic happening!",t);var a=e.state.threadList.filter((function(e){return e.category.includes(t)}));e.setState({filteredList:a,isFiltered:!0,activeCategory:t})},e.handleTurnOffFilter=function(){var t=e.state.threadList;e.setState({isFiltered:!1,filteredList:Object(S.a)(t)})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.handleThreads()}},{key:"render",value:function(){var e=this,t=this.props.isLoggedIn,a=this.state,c=a.threadList,r=a.isFiltered,s=a.filteredList;a.activeCategory;return Object(x.jsxs)("div",{className:"all-thread-container",children:[Object(x.jsxs)("div",{class:"thread-category-container",children:[Object(x.jsx)(m.a,{onClick:function(){return e.handleTurnOffFilter()},children:"Clear filter"}),Object(x.jsx)("h3",{children:"Filter"}),Object(x.jsxs)("div",{className:"thread-category-scrollable",children:[Object(x.jsxs)(F.a,{className:"thread-category-card",onClick:function(){return e.handleFilter("Mobile, Computers & Devices")},children:[Object(x.jsx)(F.a.Img,{class:"thread-category-image",variant:"top",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637232639/mobile_computers_devices_ahinyq.png"}),Object(x.jsx)(F.a.Body,{children:Object(x.jsx)(F.a.Title,{class:"thread-category-card-text",children:"Mobile Computers & Devices"})})]}),Object(x.jsxs)(F.a,{className:"thread-category-card",onClick:function(){return e.handleFilter("Consoles & Videogames")},children:[Object(x.jsx)(F.a.Img,{class:"thread-category-image",variant:"top",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637232639/console_videogames_lqyghb.png"}),Object(x.jsx)(F.a.Body,{children:Object(x.jsx)(F.a.Title,{class:"thread-category-card-text",children:"Consoles & Videogames"})})]}),Object(x.jsxs)(F.a,{className:"thread-category-card",onClick:function(){return e.handleFilter("Fashion")},children:[Object(x.jsx)(F.a.Img,{class:"thread-category-image",variant:"top",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637232639/fashion_hwpu6b.png"}),Object(x.jsx)(F.a.Body,{children:Object(x.jsx)(F.a.Title,{class:"thread-category-card-text",children:"Fashion"})})]}),Object(x.jsxs)(F.a,{className:"thread-category-card",onClick:function(){return e.handleFilter("Sports & Outdoors")},children:[Object(x.jsx)(F.a.Img,{class:"thread-category-image",variant:"top",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637232639/sports_outdoors_kp5cmw.png"}),Object(x.jsx)(F.a.Body,{children:Object(x.jsx)(F.a.Title,{class:"thread-category-card-text",children:"Sports & Outdoors"})})]}),Object(x.jsxs)(F.a,{className:"thread-category-card",onClick:function(){return e.handleFilter("Home & Garden")},children:[Object(x.jsx)(F.a.Img,{class:"thread-category-image",variant:"top",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637232638/home_garden_f2zga1.png"}),Object(x.jsx)(F.a.Body,{children:Object(x.jsx)(F.a.Title,{class:"thread-category-card-text",children:"Home & Garden"})})]}),Object(x.jsxs)(F.a,{className:"thread-category-card",onClick:function(){return e.handleFilter("Health & Beauty")},children:[Object(x.jsx)(F.a.Img,{class:"thread-category-image",variant:"top",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637232638/health_beauty_vtwx9s.png"}),Object(x.jsx)(F.a.Body,{children:Object(x.jsx)(F.a.Title,{class:"thread-category-card-text",children:"Health & Beauty"})})]}),Object(x.jsxs)(F.a,{className:"thread-category-card",onClick:function(){return e.handleFilter("Cinema, Books & Music")},children:[Object(x.jsx)(F.a.Img,{class:"thread-category-image",variant:"top",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637232638/cinema_book_music_geee25.png"}),Object(x.jsx)(F.a.Body,{children:Object(x.jsx)(F.a.Title,{class:"thread-category-card-text",children:"Cinema, Books & Music"})})]}),Object(x.jsxs)(F.a,{className:"thread-category-card",onClick:function(){return e.handleFilter("Vehicles & Motor")},children:[Object(x.jsx)(F.a.Img,{class:"thread-category-image",variant:"top",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637232638/vehicle_motor_himq6u.png"}),Object(x.jsx)(F.a.Body,{children:Object(x.jsx)(F.a.Title,{class:"thread-category-card-text",children:"Vehicles & Motor"})})]}),Object(x.jsxs)(F.a,{className:"thread-category-card",onClick:function(){return e.handleFilter("Art & Collectibles")},children:[Object(x.jsx)(F.a.Img,{class:"thread-category-image",variant:"top",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637232638/art_collectible_xfmxgn.png"}),Object(x.jsx)(F.a.Body,{children:Object(x.jsx)(F.a.Title,{class:"thread-category-card-text",children:"Art & Collectibles"})})]}),Object(x.jsxs)(F.a,{className:"thread-category-card",onClick:function(){return e.handleFilter("Toys & Kids")},children:[Object(x.jsx)(F.a.Img,{class:"thread-category-image",variant:"top",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637232638/kid_toy_psfz5w.png"}),Object(x.jsx)(F.a.Body,{children:Object(x.jsx)(F.a.Title,{class:"thread-category-card-text",children:"Toys & Kids"})})]})]}),Object(x.jsx)("div",{class:"category-container-mobile",children:Object(x.jsxs)(O.a.Select,{onChange:function(t){return e.handleFilter(t.target.value)},id:"category",children:[Object(x.jsx)("option",{children:"Mobile, Computers & Devices"}),Object(x.jsx)("option",{children:"Consoles & Videogames"}),Object(x.jsx)("option",{children:"Fashion"}),Object(x.jsx)("option",{children:"Sports & Outdoors"}),Object(x.jsx)("option",{children:"Home & Garden"}),Object(x.jsx)("option",{children:"Health & Beauty"}),Object(x.jsx)("option",{children:"Cinema, Books & Music"}),Object(x.jsx)("option",{children:"Vehicles & Motor"}),Object(x.jsx)("option",{children:"Art & Collectibles"}),Object(x.jsx)("option",{children:"Toys & Kids"})]})})]}),Object(x.jsxs)("div",{class:"all-threads",children:[t&&Object(x.jsx)(N.b,{to:"/create",children:Object(x.jsx)(m.a,{children:"Create Thread"})}),Object(x.jsx)("h3",{children:"Latest Threads"}),0===s.length&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h4",{style:{color:"red"},children:"There are no threads for this category."}),Object(x.jsxs)("h4",{style:{fontWeight:"bold"},children:["Be the first to list a thread under this category!",Object(x.jsx)(N.b,{to:"/create",children:"Click Here!"})]})]}),r&&Object(x.jsx)("div",{className:"thread-scrollable",children:s.map((function(e){return Object(x.jsx)(F.a,{className:"single-thread-card",children:Object(x.jsxs)(F.a.Body,{children:[Object(x.jsxs)("div",{className:"thread-title-text",children:[Object(x.jsx)(F.a.Title,{children:e.title}),Object(x.jsxs)(F.a.Text,{children:["By: ",e.createdBy.username]})]}),Object(x.jsxs)(F.a.Text,{children:["Category: ",e.category]}),Object(x.jsx)(N.b,{to:"/thread/".concat(e._id),children:Object(x.jsx)(m.a,{children:"See Details"})})]},e._id)})}))}),!r&&Object(x.jsx)("div",{className:"thread-scrollable",children:c.map((function(e){return Object(x.jsx)(F.a,{className:"single-thread-card",children:Object(x.jsxs)(F.a.Body,{children:[Object(x.jsxs)("div",{className:"thread-title-text",children:[Object(x.jsx)(F.a.Title,{children:e.title}),Object(x.jsxs)(F.a.Text,{children:["By: ",e.createdBy.username]})]}),Object(x.jsxs)(F.a.Text,{children:["Category: ",e.category]}),Object(x.jsx)(N.b,{to:"/thread/".concat(e._id),children:Object(x.jsx)(m.a,{children:"See Details"})})]},e._id)})}))})]})]})}}]),a}(c.Component)),w=I,L=(a(135),{width:"60vw",textAlign:"center",lineHeight:"5vh"}),T=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(x.jsxs)("div",{className:"home-container",children:[Object(x.jsx)("img",{className:"home-logo",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637173969/tradehub-logo-white_s3sfhi.png",alt:"logo black",style:{width:"50vw"}}),Object(x.jsx)("h2",{style:L,children:"At TradeHub you will sell items you no longer use, and connect with the community."})]})}}]),a}(c.Component),M=T,B=a(17),_=a(34),P=(a(136),{textDecoration:"none",color:"white"}),D={color:"rgb(248,157,13)"};function G(e){var t=e.isLoggedIn,a=(e.user,e.setUser),r=Object(c.useState)(!1),s=Object(B.a)(r,2),n=s[0],i=s[1],o=function(){u.a.post("".concat("https://tradehub-app.herokuapp.com/api","/auth/logout"),{},{withCredentials:!0}).then((function(){a(null,!1)}))},l=function(){i(!n)};return Object(x.jsxs)("div",{class:"navbar",children:[Object(x.jsx)("div",{children:Object(x.jsx)(N.c,{exact:!0,to:"/",children:Object(x.jsx)("img",{src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637173969/tradehub-logo-black_tgvwyt.png",alt:"logo",style:{width:"9rem"}})})}),Object(x.jsx)(_.b,{className:"toggleButton",onClick:l,color:"white"}),Object(x.jsxs)("div",{className:"navbarLinks",children:[Object(x.jsx)(N.c,{style:P,activeStyle:D,to:"/marketplace",children:Object(x.jsx)("h3",{children:"Marketplace"})}),Object(x.jsx)(N.c,{style:P,activeStyle:D,to:"/forum",children:Object(x.jsx)("h3",{children:"Forum"})}),!t&&Object(x.jsxs)(x.Fragment,{children:[" ",Object(x.jsx)(N.c,{to:"/signup",style:P,activeStyle:D,children:Object(x.jsx)("h3",{children:"Register"})}),Object(x.jsx)(N.c,{to:"/login",style:P,activeStyle:D,children:Object(x.jsx)("h3",{children:"Login"})})]}),t&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(N.c,{to:"/sell",style:P,activeStyle:D,children:Object(x.jsx)("h3",{children:"List Item"})}),Object(x.jsx)(N.c,{to:"/create",style:P,activeStyle:D,children:Object(x.jsx)("h3",{children:"Create Thread"})}),Object(x.jsx)(N.c,{to:"/profile",style:P,activeStyle:D,children:Object(x.jsx)("h3",{children:"Profile"})}),Object(x.jsx)(N.c,{to:"/",style:P,children:Object(x.jsx)("h3",{onClick:o,children:"Log out"})})]})]}),n&&Object(x.jsxs)("div",{className:"navbarLinks minimizedNavlinks",children:[Object(x.jsx)(N.c,{style:P,activeStyle:D,to:"/marketplace",onClick:l,children:Object(x.jsx)("h3",{children:"Market"})}),Object(x.jsx)(N.c,{style:P,activeStyle:D,to:"/forum",onClick:l,children:Object(x.jsx)("h3",{children:"Forum"})}),!t&&Object(x.jsxs)(x.Fragment,{children:[" ",Object(x.jsx)(N.c,{to:"/signup",style:P,activeStyle:D,onClick:l,children:Object(x.jsx)("h3",{children:"Register"})}),Object(x.jsx)(N.c,{to:"/login",style:P,activeStyle:D,onClick:l,children:Object(x.jsx)("h3",{children:"Login"})})]}),t&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(N.c,{to:"/profile",style:P,activeStyle:D,onClick:l,children:Object(x.jsx)("h3",{children:"Profile"})}),Object(x.jsx)(N.c,{to:"/",style:P,onClick:l,children:Object(x.jsx)("h3",{onClick:o,children:"Log out"})})]})]})]})}var A=a(54),E=a.n(A),H=(a(40),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={name:"",image:"",description:"",price:0,category:"",stock:0,imageIsUploading:!1,errorMessage:""},e.handleChange=function(t){var a=t.target,c=a.name,r=a.value;e.setState(Object(b.a)({},c,r))},e.handleImageUpload=function(t){e.setState({imageIsUploading:!0});var a=new FormData;a.append("image",t.target.files[0]),u.a.post("".concat("https://tradehub-app.herokuapp.com/api","/upload"),a).then((function(t){console.log(t),e.setState({image:t.data.imagePath,imageIsUploading:!1})})).catch((function(t){return e.props.history.push("/error")}))},e.handleSubmit=function(t){t.preventDefault();var a=e.state,c=a.name,r=a.image,s=a.description,n=a.price,i=a.category,o=a.stock;u.a.post("".concat("https://tradehub-app.herokuapp.com/api","/product/create"),{name:c,image:r,description:s,price:Number(n),category:i,stock:Number(o)},{withCredentials:!0}).then((function(){return e.props.history.push("/")})).catch((function(t){return e.setState({errorMessage:t.response.data.errorMessage})}))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state,t=e.name,a=(e.image,e.description),c=e.price,r=e.category,s=e.stock,n=e.imageIsUploading,i=e.errorMessage;return Object(x.jsx)("div",{class:"add-product-form",children:Object(x.jsxs)(O.a,{onSubmit:this.handleSubmit,children:[Object(x.jsxs)(O.a.Group,{className:"mb-3",controlId:"formGroupEmail",children:[Object(x.jsx)(O.a.Label,{htmlFor:"name",children:"Name of Product"}),Object(x.jsx)(O.a.Control,{onChange:this.handleChange,type:"text",name:"name",value:t,placeholder:"Enter product"})]}),Object(x.jsxs)(O.a.Group,{onChange:this.handleImageUpload,controlId:"formFileSm",className:"mb-3",children:[Object(x.jsx)(O.a.Label,{htmlFor:"image",children:"Image"}),Object(x.jsx)(E.a,{loading:n,size:150}),Object(x.jsx)(O.a.Control,{type:"file",size:"sm"})]}),Object(x.jsxs)(O.a.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[Object(x.jsx)(O.a.Label,{htmlFor:"description",children:"Description"}),Object(x.jsx)(O.a.Control,{onChange:this.handleChange,type:"text",name:"description",value:a,as:"textarea",rows:3})]}),Object(x.jsxs)(O.a.Group,{className:"mb-3",controlId:"formGroupEmail",children:[Object(x.jsx)(O.a.Label,{htmlFor:"price",children:"Price"}),Object(x.jsxs)(y.a,{children:[Object(x.jsx)(y.a.Text,{id:"inputGroupPrepend",children:"\u20ac"}),Object(x.jsx)(O.a.Control,{onChange:this.handleChange,type:"number",name:"price",value:c,placeholder:"Enter price"})]})]}),Object(x.jsxs)(O.a.Select,{onChange:this.handleChange,id:"category-select",name:"category",value:r,children:[Object(x.jsx)("option",{children:"Choose a category..."}),Object(x.jsx)("option",{value:"Mobile, Computers & Devices",children:"Mobile, Computers & Devices"}),Object(x.jsx)("option",{value:"Consoles & Videogames",children:"Consoles & Videogames"}),Object(x.jsx)("option",{value:"Fashion",children:"Fashion"}),Object(x.jsx)("option",{value:"Sports & Outdoors",children:"Sports & Outdoors"}),Object(x.jsx)("option",{value:"Home & Garden",children:"Home & Garden"}),Object(x.jsx)("option",{value:"Health & Beauty",children:"Health & Beauty"}),Object(x.jsx)("option",{value:"Cinema, Books & Music",children:"Cinema, Books & Music"}),Object(x.jsx)("option",{value:"Vehicles & Motor",children:"Vehicles & Motor"}),Object(x.jsx)("option",{value:"Art & Collectibles",children:"Art & Collectibles"}),Object(x.jsx)("option",{value:"Toys & Kids",children:"Toys & Kids"})]}),Object(x.jsxs)(O.a.Group,{className:"mb-3",controlId:"formGroupEmail",children:[Object(x.jsx)(O.a.Label,{htmlFor:"stock",children:"Stock"}),Object(x.jsx)(O.a.Control,{onChange:this.handleChange,type:"number",name:"stock",value:s})]}),Object(x.jsx)(m.a,{type:"submit",disabled:n,children:"Submit Product"}),i&&Object(x.jsx)("p",{children:i})]})})}}]),a}(c.Component)),U=H,V=a(72),z=a(38),K=a(58),q=a.n(K),R=a(73);function Y(){var e,t=Object(z.useStripe)(),a=Object(z.useElements)(),r=Object(c.useState)(null),s=Object(B.a)(r,2),n=s[0],i=s[1],o=Object(c.useState)(!1),l=Object(B.a)(o,2),d=l[0],h=l[1];Object(c.useEffect)((function(){if(t){var e=new URLSearchParams(window.location.search).get("payment_intent_client_secret");e&&t.retrievePaymentIntent(e).then((function(e){switch(e.paymentIntent.status){case"succeeded":i("Payment succeeded!");break;case"processing":i("Your payment is processing.");break;case"requires_payment_method":i("Your payment was not successful, please try again.");break;default:i("Something went wrong.")}})).catch((function(e){return console.log(e)}))}}),[t]);var j=function(){var e=Object(R.a)(q.a.mark((function e(c){var r,s;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),t&&a){e.next=3;break}return e.abrupt("return");case 3:return h(!0),e.next=6,t.confirmPayment({elements:a,confirmParams:{return_url:"http://localhost:3000/order/success?session_id={CHECKOUT_SESSION_ID}"}});case 6:r=e.sent,"card_error"===(s=r.error).type||"validation_error"===s.type?i(s.message):i("An unexpected error occured."),h(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)("form",{id:"payment-form",onSubmit:j,children:[Object(x.jsx)(z.PaymentElement,{id:"payment-element"}),Object(x.jsx)("button",(e={id:"payment-button",disabled:d||!t||!a},Object(b.a)(e,"id","submit"),Object(b.a)(e,"children",Object(x.jsx)("span",{id:"button-text",children:d?Object(x.jsx)("div",{className:"spinner",id:"spinner"}):"Pay now"})),e)),n&&Object(x.jsx)("div",{id:"payment-message",children:n})]})}a(138);var W=Object(V.a)("pk_test_51JwX9tHrox29DJrePxlMELbAbakAPPpCDb1oixYXOqT5cICYtjD6z6YZyWLduovddj77RbEyg2AGjt7krrOFtFiG00t7ez9tXR");function J(e){var t=e.itemToBuy,a=Object(c.useState)(""),r=Object(B.a)(a,2),s=r[0],n=r[1],i=Object(c.useEffect)((function(){fetch("".concat("https://tradehub-app.herokuapp.com/api","/payments/create-payment-intent"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:[t]})}).then((function(e){return e.json()})).then((function(e){return n(e.clientSecret)})).catch((function(e){return console.log(e)}))}),[t]),o=Object(B.a)(i,2),l=(o[0],o[1],{clientSecret:s,appearance:{theme:"stripe"}});return Object(x.jsx)("div",{className:"payment-body",children:s&&Object(x.jsx)(z.Elements,{options:l,stripe:W,children:Object(x.jsx)(Y,{})})})}var X=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={productList:[],isLoading:!0,itemToBuy:null,filteredList:[],isFiltered:!1,categorySelected:""},e.handleProducts=function(){u.a.get("".concat("https://tradehub-app.herokuapp.com/api","/product/all"),{withCredentials:!0}).then((function(t){console.log(t.data),e.setState({productList:Object(S.a)(t.data),filteredList:Object(S.a)(t.data)})})).catch((function(t){return e.props.history.push("/error")}))},e.handleFilter=function(t){console.log("filter magic happening!",t);var a=e.state.productList.filter((function(e){return e.category.includes(t)}));e.setState({filteredList:a,isFiltered:!0,categorySelected:t})},e.handleTurnOffFilter=function(){var t=e.state.productList;e.setState({isFiltered:!1,filteredList:Object(S.a)(t)})},e.handleClick=function(t){e.setState({itemToBuy:t})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.handleProducts()}},{key:"render",value:function(){var e=this,t=this.state,a=t.productList,c=(t.isLoading,t.itemToBuy,t.isFiltered),r=t.filteredList,s=t.categorySelected,n=this.props.isLoggedIn;return Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{class:"category-container",children:[Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(F.a,{onClick:function(){return e.handleFilter("Mobile, Computers & Devices")},className:"category-card",name:"Mobile, Computers & Devices",border:"light",children:[Object(x.jsx)(F.a.Img,{className:"category-image",variant:"top",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637232639/mobile_computers_devices_ahinyq.png"}),Object(x.jsx)(F.a.Body,{children:Object(x.jsx)(F.a.Title,{className:"category-card-text",children:"Mobile Computers & Devices"})})]}),Object(x.jsxs)(F.a,{onClick:function(){return e.handleFilter("Consoles & Videogames")},className:"category-card",border:"light",children:[Object(x.jsx)(F.a.Img,{className:"category-image",variant:"top",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637232639/console_videogames_lqyghb.png"}),Object(x.jsx)(F.a.Body,{children:Object(x.jsx)(F.a.Title,{className:"category-card-text",children:"Consoles & Videogames"})})]}),Object(x.jsxs)(F.a,{onClick:function(){return e.handleFilter("Fashion")},className:"category-card",border:"light",children:[Object(x.jsx)(F.a.Img,{className:"category-image",variant:"top",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637232639/fashion_hwpu6b.png"}),Object(x.jsx)(F.a.Body,{children:Object(x.jsx)(F.a.Title,{className:"category-card-text",children:"Fashion"})})]}),Object(x.jsxs)(F.a,{onClick:function(){return e.handleFilter("Sports & Outdoors")},className:"category-card",border:"light",children:[Object(x.jsx)(F.a.Img,{className:"category-image",variant:"top",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637232639/sports_outdoors_kp5cmw.png"}),Object(x.jsx)(F.a.Body,{children:Object(x.jsx)(F.a.Title,{className:"category-card-text",children:"Sports & Outdoors"})})]}),Object(x.jsxs)(F.a,{onClick:function(){return e.handleFilter("Home & Garden")},className:"category-card",border:"light",children:[Object(x.jsx)(F.a.Img,{className:"category-image",variant:"top",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637232638/home_garden_f2zga1.png"}),Object(x.jsx)(F.a.Body,{children:Object(x.jsx)(F.a.Title,{className:"category-card-text",children:"Home & Garden"})})]}),Object(x.jsxs)(F.a,{onClick:function(){return e.handleFilter("Health & Beauty")},className:"category-card",border:"light",children:[Object(x.jsx)(F.a.Img,{className:"category-image",variant:"top",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637232638/health_beauty_vtwx9s.png"}),Object(x.jsx)(F.a.Body,{children:Object(x.jsx)(F.a.Title,{className:"category-card-text",children:"Health & Beauty"})})]}),Object(x.jsxs)(F.a,{onClick:function(){return e.handleFilter("Cinema, Books & Music")},border:"light",className:"category-card",children:[Object(x.jsx)(F.a.Img,{class:"category-image",variant:"top",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637232638/cinema_book_music_geee25.png"}),Object(x.jsx)(F.a.Body,{children:Object(x.jsx)(F.a.Title,{className:"category-card-text",children:"Cinema, Books & Music"})})]}),Object(x.jsxs)(F.a,{onClick:function(){return e.handleFilter("Vehicles & Motor")},border:"light",className:"category-card",children:[Object(x.jsx)(F.a.Img,{className:"category-image",variant:"top",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637232638/vehicle_motor_himq6u.png"}),Object(x.jsx)(F.a.Body,{children:Object(x.jsx)(F.a.Title,{className:"category-card-text",children:"Vehicles & Motor"})})]}),Object(x.jsxs)(F.a,{onClick:function(){return e.handleFilter("Art & Collectibles")},border:"light",className:"category-card",children:[Object(x.jsx)(F.a.Img,{className:"category-image",variant:"top",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637232638/art_collectible_xfmxgn.png"}),Object(x.jsx)(F.a.Body,{children:Object(x.jsx)(F.a.Title,{className:"category-card-text",children:"Art & Collectibles"})})]}),Object(x.jsxs)(F.a,{onClick:function(){return e.handleFilter("Toys & Kids")},border:"light",className:"category-card",children:[Object(x.jsx)(F.a.Img,{className:"category-image",variant:"top",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637232638/kid_toy_psfz5w.png"}),Object(x.jsx)(F.a.Body,{children:Object(x.jsx)(F.a.Title,{className:"category-card-text",children:"Toys & Kids"})})]})]}),Object(x.jsxs)("div",{class:"category-container-mobile",children:[Object(x.jsx)("p",{className:"product-body-text",style:{fontWeight:"bold"},children:"Select a category from the drop-down menu!"}),Object(x.jsxs)(O.a.Select,{onChange:function(t){return e.handleFilter(t.target.value)},id:"category",children:[Object(x.jsx)("option",{value:"Mobile, Computers & Devices",children:"Mobile, Computers & Devices"}),Object(x.jsx)("option",{value:"Consoles & Videogames",children:"Consoles & Videogames"}),Object(x.jsx)("option",{value:"Fashion",children:"Fashion"}),Object(x.jsx)("option",{value:"Sports & Outdoors",children:"Sports & Outdoors"}),Object(x.jsx)("option",{value:"Home & Garden",children:"Home & Garden"}),Object(x.jsx)("option",{value:"Health & Beauty",children:"Health & Beauty"}),Object(x.jsx)("option",{value:"Cinema, Books & Music",children:"Cinema, Books & Music"}),Object(x.jsx)("option",{value:"Vehicles & Motor",children:"Vehicles & Motor"}),Object(x.jsx)("option",{value:"Art & Collectibles",children:"Art & Collectibles"}),Object(x.jsx)("option",{value:"Toys & Kids",children:"Toys & Kids"})]})]})]}),Object(x.jsx)("div",{className:"product-filter-btn",children:Object(x.jsx)(m.a,{onClick:function(){return e.handleTurnOffFilter()},children:"Clear filter"})}),Object(x.jsxs)("div",{className:"all-products product-scrollable",children:[Object(x.jsxs)("div",{className:"heading-all-products",children:[s&&Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("h4",{children:s})}),n&&Object(x.jsx)(N.b,{to:"/sell",children:Object(x.jsx)(m.a,{children:"List Product"})}),Object(x.jsx)("h3",{children:"Latest Products..."})]}),0===r.length&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h4",{style:{color:"red"},children:"There are no products for this category."}),Object(x.jsxs)("h4",{style:{fontWeight:"bold"},children:["Be the first to list a product under this category!",Object(x.jsx)(N.b,{to:"/sell",children:"Click Here!"})]})]}),c&&Object(x.jsx)("div",{className:"all-product-cards",children:r.map((function(e){return Object(x.jsxs)(F.a,{className:"product-card",children:[Object(x.jsx)(F.a.Img,{className:"product-card-img",variant:"top",src:e.image}),Object(x.jsxs)(F.a.Body,{children:[Object(x.jsx)(F.a.Title,{children:e.name}),Object(x.jsx)(F.a.Text,{children:e.category}),Object(x.jsx)(N.b,{to:"/product/".concat(e._id),children:Object(x.jsx)(m.a,{className:"see-details-btn",children:"See Details"})})]})]})}))}),!c&&Object(x.jsx)("div",{className:"all-products-cards",children:a.map((function(e){return Object(x.jsxs)(F.a,{className:"product-card",children:[Object(x.jsx)(F.a.Img,{className:"product-card-img",variant:"top",src:e.image}),Object(x.jsxs)(F.a.Body,{children:[Object(x.jsx)(F.a.Title,{children:e.name}),Object(x.jsx)(F.a.Text,{children:e.category}),Object(x.jsx)(N.b,{to:"/product/".concat(e._id),children:Object(x.jsx)(m.a,{className:"see-details-btn",children:"See Details"})})]})]})}))})]})]})}}]),a}(c.Component),Z=X,Q=a(144),$=a(143);a(53);var ee=function(){var e=Object(c.useState)([]),t=Object(B.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(!0),i=Object(B.a)(n,2),o=i[0],l=i[1];return Object(c.useEffect)((function(){u.a.get("".concat("https://tradehub-app.herokuapp.com/api","/product/my-products"),{withCredentials:!0}).then((function(e){s(Object(S.a)(e.data.products)),l(!1)})).catch((function(e){return console.log(e)}))}),[]),Object(x.jsx)("div",{className:"scrollable",children:o?Object(x.jsx)(f.RingLoader,{loading:o,size:50}):a.map((function(e){return Object(x.jsx)("div",{className:"thread-card",children:Object(x.jsx)(r.a.Fragment,{children:Object(x.jsxs)(Q.a.Item,{as:"li",className:"d-flex justify-content-between align-items-start",children:[Object(x.jsxs)("div",{className:"ms-2 me-auto",children:[Object(x.jsx)("div",{className:"fw-bold",children:e.name}),e.description]}),Object(x.jsx)(N.b,{to:"/product/".concat(e._id),children:Object(x.jsx)($.a,{variant:"primary",pill:!0,children:"details"})})]})},e._id)})}))})};var te=function(){var e=Object(c.useState)([]),t=Object(B.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(!0),i=Object(B.a)(n,2),o=i[0],l=i[1];return Object(c.useEffect)((function(){u.a.get("".concat("https://tradehub-app.herokuapp.com/api","/thread/my-threads"),{withCredentials:!0}).then((function(e){s(Object(S.a)(e.data.threads)),l(!1)})).catch((function(e){console.log(e)}))}),[]),Object(x.jsx)("div",{className:"scrollable",children:o?Object(x.jsx)(f.RingLoader,{loading:o,size:50}):a.map((function(e){return Object(x.jsx)("div",{className:"thread-card",children:Object(x.jsx)(r.a.Fragment,{children:Object(x.jsxs)(Q.a.Item,{as:"li",className:"d-flex justify-content-between align-items-start",children:[Object(x.jsxs)("div",{className:"ms-2 me-auto",children:[Object(x.jsx)("div",{className:"fw-bold",children:e.title}),e.description]}),Object(x.jsx)(N.b,{to:"/thread/".concat(e._id),children:Object(x.jsx)($.a,{variant:"primary",pill:!0,children:"details"})})]})},e._id)})}))})},ae=a(48),ce=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={username:"",city:"",email:"",createdAt:"",profilePic:"",isShowingForm:!1,imageIsUploading:!1,successMessage:!1},e.handleUserInfo=function(){u.a.get("".concat("https://tradehub-app.herokuapp.com/api","/profile"),{withCredentials:!0}).then((function(t){e.setState({username:t.data.username,email:t.data.email,city:t.data.city,createdAt:t.data.createdAt.slice(0,10),profilePic:t.data.profilePic})})).catch((function(t){e.props.history.push("/error")}))},e.handleImageUpload=function(t){e.setState({imageIsUploading:!0});var a=new FormData;a.append("image",t.target.files[0]),u.a.post("".concat("https://tradehub-app.herokuapp.com/api","/upload"),a).then((function(t){console.log(t),e.setState({profilePic:t.data.imagePath,imageIsUploading:!1})})).catch((function(t){return e.props.history.push("/error")}))},e.handleSubmit=function(t){var a=e.state,c=a.profilePic,r=a.isShowingForm;t.preventDefault(),u.a.patch("".concat("https://tradehub-app.herokuapp.com/api","/profile/edit-pic"),{profilePic:c},{withCredentials:!0}).then((function(t){console.log(t),e.setState({isShowingForm:!r,successMessage:!0}),e.props.history.push("/profile")})).catch((function(t){console.log(t),e.props.history.push("/error")}))},e.showForm=function(){e.setState({isShowingForm:!e.state.isShowingForm})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.handleUserInfo()}},{key:"render",value:function(){var e=this,t=this.state,a=t.username,c=t.city,r=t.email,s=t.createdAt,n=t.profilePic,i=t.isShowingForm,o=t.successMessage;return Object(x.jsxs)("div",{className:"profile-component",children:[Object(x.jsxs)("div",{className:"profile-img-div",children:[Object(x.jsx)("img",{src:n,className:"profile-img",alt:"Profile Img"}),Object(x.jsx)("h4",{children:a}),Object(x.jsxs)("p",{children:["TradeHub User Since ",s]}),Object(x.jsx)("p",{children:r}),Object(x.jsx)("p",{children:c}),Object(x.jsx)("button",{onClick:this.showForm,children:"Edit Profile Picture"})]}),o&&Object(x.jsxs)("div",{className:"success-msg",children:[Object(x.jsx)("p",{children:"Succesfully changed your profile picture. You look beautiful"}),Object(x.jsx)(ae.b,{color:"red",size:25,onClick:function(){return e.setState({successMessage:!1})}})]}),i&&Object(x.jsxs)(O.a,{onSubmit:this.handleSubmit,children:[Object(x.jsxs)(O.a.Group,{onChange:this.handleImageUpload,controlId:"formFileSm",className:"mb-3",children:[Object(x.jsx)(O.a.Label,{htmlFor:"profilePic",children:"Profile Picture"}),Object(x.jsx)(O.a.Control,{type:"file",size:"sm",name:"profilePic"})]}),Object(x.jsx)(m.a,{type:"submit",children:"Upload"})]}),Object(x.jsxs)("div",{className:"profile-listings",children:[Object(x.jsxs)("div",{className:"profile-products",children:[Object(x.jsx)("h6",{children:"Your products"}),Object(x.jsx)(ee,{})]}),Object(x.jsxs)("div",{className:"profile-threads",children:[Object(x.jsx)("h6",{children:"Your Threads"}),Object(x.jsx)(te,{})]})]})]})}}]),a}(c.Component),re=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={description:"",errorMessage:""},e.handleChange=function(t){var a=t.target,c=a.name,r=a.value;e.setState(Object(b.a)({},c,r))},e.handleSubmit=function(t){var a=e.state.description;t.preventDefault(),u.a.post("".concat("https://tradehub-app.herokuapp.com/api","/comment/create/").concat(e.props.id),{description:a},{withCredentials:!0}).then((function(){return e.props.handleComments()})).catch((function(t){return e.setState({errorMessage:t.response.data.errorMessage})}))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state,t=e.description,a=e.errorMessage;return Object(x.jsxs)("div",{children:[Object(x.jsxs)("form",{onSubmit:this.handleSubmit,className:"add-comment-form",children:[Object(x.jsx)("input",{className:"comment-input",type:"text",name:"description",placeholder:"Write your comment",value:t,onChange:this.handleChange}),Object(x.jsx)(m.a,{className:"comment-button thread-buttons",type:"submit",children:"submit"})]}),a&&Object(x.jsx)("p",{children:a})]})}}]),a}(c.Component),se=re,ne=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={commentList:[],username:"",userId:"",isLoggedIn:null},e.handleComments=function(){u.a.get("".concat("https://tradehub-app.herokuapp.com/api","/comment/all/").concat(e.props.id),{withCredentials:!0}).then((function(t){e.setState({commentList:Object(S.a)(t.data),userId:e.props.isLoggedIn?e.props.user._id:""})})).catch((function(t){return e.props.history.push("/error")}))},e.handleDelete=function(t){u.a.delete("".concat("https://tradehub-app.herokuapp.com/api","/comment/").concat(t),{withCredentials:!0}).then((function(){return e.props.history.push("/forum")})).catch((function(){return e.props.history.push("/error")}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.handleComments()}},{key:"render",value:function(){var e=this,t=this.state.commentList,a=this.props,c=(a.isLoggedIn,a.user,a.isActive);return Object(x.jsxs)("div",{className:"comment-container ",children:[c&&Object(x.jsx)(se,{id:this.props.id,history:this.props.history,handleComments:this.handleComments}),t.length&&Object(x.jsx)("div",{className:"comment-category-scrollable",children:t.map((function(t){return Object(x.jsx)(F.a,{className:"comment-card ",children:Object(x.jsxs)(F.a.Body,{className:"comment-card-body",children:[Object(x.jsxs)("div",{children:[Object(x.jsx)(F.a.Text,{children:t.userId.username}),Object(x.jsx)(F.a.Text,{children:t.description})]}),t.userId._id===e.state.userId&&Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(_.c,{className:"delete-comment-button",onClick:function(){return e.handleDelete(t._id)}})})]})})}))})]})}}]),a}(c.Component),ie=ne,oe=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={oneThread:null,isLoading:!0,edit:!1,userId:"",isLoggedIn:null,isActive:null},e.handleDelete=function(){var t=e.state.isActive;u.a.patch("".concat("https://tradehub-app.herokuapp.com/api","/thread/").concat(e.props.match.params.id),{isActive:!t},{withCredentials:!0}).then((function(){return e.props.history.push("/forum")})).catch((function(){return e.props.history.push("/error")}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.user,c=t.isLoggedIn;u.a.get("".concat("https://tradehub-app.herokuapp.com/api","/thread/").concat(this.props.match.params.id),{withCredentials:!0}).then((function(t){e.setState({oneThread:t.data,isLoading:!1,edit:t.data.edit,userId:c?a._id:"",isActive:t.data.isActive})})).catch((function(t){console.log(t),e.props.history.push("/error")}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.oneThread,c=e.edit,r=e.userId,s=this.props,n=s.isLoggedIn,i=s.user;return Object(x.jsxs)("div",{className:"one-thread-div",children:[Object(x.jsx)("h2",{className:"thread-heading",children:"Discussion"}),t&&Object(x.jsx)("h1",{children:"...Loading"}),!t&&Object(x.jsx)(F.a,{className:"one-thread-card",border:"light",children:Object(x.jsxs)(F.a.Body,{className:"one-thread-card-body",children:[Object(x.jsxs)("div",{children:[Object(x.jsxs)(F.a.Title,{children:["Title:",a.title]}),Object(x.jsx)(F.a.Text,{children:a.description}),Object(x.jsx)(F.a.Text,{children:a.category}),c&&Object(x.jsx)(ae.a,{})]}),a.createdBy===r&&Object(x.jsxs)("div",{className:"comment-button-div",children:[Object(x.jsx)(N.b,{to:"/thread/".concat(a._id,"/edit"),children:Object(x.jsx)(m.a,{className:"thread-buttons",children:"Edit"})}),Object(x.jsx)(m.a,{className:"thread-buttons",onClick:this.handleDelete,children:"Delete"})]})]})}),Object(x.jsx)(ie,{id:this.props.match.params.id,history:this.props.history,isLoggedIn:n,user:i,isActive:this.state.isActive})]})}}]),a}(c.Component),le=oe;function de(e){var t=e.history;return Object(x.jsxs)("div",{style:{marginTop:"10vh"},children:[Object(x.jsx)("h2",{children:"Oops... Someting Went Wrong. Please go back"}),Object(x.jsx)("button",{onClick:function(){return t.goBack()},children:"Go back"})]})}var he=function(e){var t=e.history;return Object(x.jsxs)("div",{children:[Object(x.jsx)("h2",{children:"Not fouund. Please go back"}),Object(x.jsx)("button",{onClick:function(){return t.goBack()},children:"Go back"})]})};var je=function(e){var t=e.history;return Object(x.jsxs)("div",{children:[Object(x.jsx)("h2",{children:"You are not authorized. Pleaso log in."}),Object(x.jsx)("button",{onClick:function(){return t.goBack()},children:"Go back"})]})},ue=a(76),pe=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={oneProduct:null,isLoading:!0,edit:!1,itemToBuy:null,userId:"",isLoggedIn:null},e.handleClick=function(t){e.setState({itemToBuy:t})},e.handleDelete=function(){u.a.delete("".concat("https://tradehub-app.herokuapp.com/api","/product/").concat(e.props.match.params.id)).then((function(){return e.props.history.push("/")})).catch((function(){return e.props.history.push("/error")}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.isLoggedIn,c=t.user;u.a.get("".concat("https://tradehub-app.herokuapp.com/api","/product/").concat(this.props.match.params.id),{withCredentials:!0}).then((function(t){e.setState({oneProduct:t.data,isLoading:!1,data:t.data.edit,userId:a?c._id:""})})).catch((function(t){return e.props.history.push("/error")}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.userId,c=t.isLoading,r=t.oneProduct,s=t.edit,n=t.itemToBuy,i=this.props;i.user,i.isLoggedIn;return Object(x.jsxs)("div",{class:"one-product-card",children:[c&&Object(x.jsx)("h1",{children:"...Loading"}),Object(x.jsxs)(m.a,{className:"goback-btn",onClick:function(){return e.props.history.goBack()},children:[Object(x.jsx)(_.a,{}),"Go Back"]}),!c&&Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(F.a,{className:"text-center",children:[Object(x.jsx)(F.a.Header,{children:r.category}),Object(x.jsxs)(F.a.Body,{children:[Object(x.jsx)(F.a.Title,{children:r.name}),Object(x.jsx)(F.a.Img,{className:"one-product-img",src:r.image}),Object(x.jsx)(F.a.Text,{children:r.description}),Object(x.jsxs)(Q.a,{className:"list-group-flush",children:[Object(x.jsxs)(ue.a,{children:["Price: \u20ac",r.price]}),Object(x.jsx)("br",{})]}),r.addedBy._id===a&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(m.a,{className:"product-btn",onClick:this.handleDelete,variant:"primary",children:"Delete"}),Object(x.jsx)(N.b,{to:"/product/".concat(r._id,"/edit"),children:Object(x.jsx)(m.a,{className:"product-btn",children:"Edit"})})]}),s&&Object(x.jsx)("p",{children:"Edited"}),Object(x.jsx)(m.a,{className:"product-btn",onClick:function(){return e.handleClick(r)},children:"Buy"}),n&&n._id===r._id&&Object(x.jsx)(J,{itemToBuy:n})]}),Object(x.jsxs)(F.a.Footer,{className:"text-muted",children:["Added by ",r.addedBy.username]})]})})]})}}]),a}(c.Component),be=pe,me=a(33),Oe=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={name:"",description:"",category:"",stock:"",price:"",edit:!1,errorMessage:""},e.handleChange=function(t){var a=t.target,c=a.name,r=a.value;e.setState(Object(b.a)({},c,r))},e.handleSubmit=function(t){var a=e.state,c=a.name,r=a.description,s=a.category,n=a.stock,i=a.price;t.preventDefault(),u.a.patch("".concat("https://tradehub-app.herokuapp.com/api","/product/").concat(e.props.match.params.id),{name:c,description:r,category:s,stock:n,price:i,edit:!0},{withCredentials:!0}).then((function(){return e.props.history.push("/")})).catch((function(t){return e.setState({errorMessage:t.response.data.errorMessage})}))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.name,c=t.description,r=t.category,s=t.price,n=t.stock,i=t.errorMessage;return Object(x.jsxs)("div",{class:"add-product-form",children:[Object(x.jsxs)("button",{className:"goback-btn",onClick:function(){return e.props.history.goBack()},children:[Object(x.jsx)(_.a,{}),"Go Back"]}),Object(x.jsxs)(O.a,{onSubmit:this.handleSubmit,children:[Object(x.jsxs)(O.a.Group,{className:"mb-3",controlId:"formGroupEmail",children:[Object(x.jsx)(O.a.Label,{htmlFor:"name",children:"Name of Product"}),Object(x.jsx)(O.a.Control,{onChange:this.handleChange,type:"text",name:"name",value:a,placeholder:"Enter product"})]}),Object(x.jsxs)(O.a.Group,{onChange:this.handleImageUpload,controlId:"formFileSm",className:"mb-3",children:[Object(x.jsx)(O.a.Label,{htmlFor:"image",children:"Image"}),Object(x.jsx)(O.a.Control,{type:"file",size:"sm"})]}),Object(x.jsxs)(O.a.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[Object(x.jsx)(O.a.Label,{htmlFor:"description",children:"Description"}),Object(x.jsx)(O.a.Control,{onChange:this.handleChange,type:"text",name:"description",value:c,as:"textarea",rows:3})]}),Object(x.jsxs)(O.a.Group,{className:"mb-3",controlId:"formGroupEmail",children:[Object(x.jsx)(O.a.Label,{htmlFor:"price",children:"Price"}),Object(x.jsxs)(y.a,{children:[Object(x.jsx)(y.a.Text,{id:"inputGroupPrepend",children:"\u20ac"}),Object(x.jsx)(O.a.Control,{onChange:this.handleChange,type:"number",name:"price",value:s,placeholder:"Enter price"})]})]}),Object(x.jsxs)(O.a.Select,{onChange:this.handleChange,id:"category",name:"category",value:r,children:[Object(x.jsx)("option",{children:"Choose a category..."}),Object(x.jsx)("option",{value:"Mobile, Computers & Devices",children:"Mobile, Computers & Devices"}),Object(x.jsx)("option",{value:"Consoles & Videogames",children:"Consoles & Videogames"}),Object(x.jsx)("option",{value:"Fashion",children:"Fashion"}),Object(x.jsx)("option",{value:"Sports & Outdoors",children:"Sports & Outdoors"}),Object(x.jsx)("option",{value:"Home & Garden",children:"Home & Garden"}),Object(x.jsx)("option",{value:"Health & Beauty",children:"Health & Beauty"}),Object(x.jsx)("option",{value:"Cinema, Books & Music",children:"Cinema, Books & Music"}),Object(x.jsx)("option",{value:"Vehicles & Motor",children:"Vehicles & Motor"}),Object(x.jsx)("option",{value:"Art & Collectibles",children:"Art & Collectibles"}),Object(x.jsx)("option",{value:"Toys & Kids",children:"Toys & Kids"})]}),Object(x.jsxs)(O.a.Group,{className:"mb-3",controlId:"formGroupEmail",children:[Object(x.jsx)(O.a.Label,{htmlFor:"stock",children:"Stock"}),Object(x.jsx)(O.a.Control,{onChange:this.handleChange,type:"number",name:"stock",value:n})]}),Object(x.jsx)(me.a,{type:"submit",variant:"secondary",size:"sm",children:"Submit Product"}),i&&Object(x.jsx)("p",{children:i})]})]})}}]),a}(c.Component),xe=Oe,ge=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={title:"",description:"",category:"",isActive:!0,edit:!1},e.handleChange=function(t){var a=t.target,c=a.name,r=a.value;e.setState(Object(b.a)({},c,r))},e.handleSubmit=function(t){var a=e.state,c=a.title,r=a.description,s=a.category,n=a.isActive;t.preventDefault(),u.a.patch("".concat("https://tradehub-app.herokuapp.com/api","/thread/").concat(e.props.match.params.id),{title:c,description:r,category:s,isActive:n,edit:!0},{withCredentials:!0}).then((function(){return e.props.history.push("/forum")})).catch((function(){return e.props.history.push("/error")}))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state,t=e.title,a=e.description,c=e.category;e.isActive;return Object(x.jsx)("div",{class:"create-thread-form",children:Object(x.jsxs)(O.a,{class:"add-thread-form",onSubmit:this.handleSubmit,children:[Object(x.jsxs)(O.a.Group,{className:"mb-3",controlId:"formGroupEmail",children:[Object(x.jsx)(O.a.Label,{htmlFor:"title",children:"Thread Title"}),Object(x.jsx)(O.a.Control,{onChange:this.handleChange,type:"text",name:"title",value:t,placeholder:"Enter title"})]}),Object(x.jsxs)(O.a.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[Object(x.jsx)(O.a.Label,{htmlFor:"description",children:"Description"}),Object(x.jsx)(O.a.Control,{onChange:this.handleChange,type:"text",name:"description",value:a,as:"textarea",rows:3})]}),Object(x.jsxs)(O.a.Select,{onChange:this.handleChange,id:"category",name:"category",value:c,children:[Object(x.jsx)("option",{children:"Choose a category..."}),Object(x.jsx)("option",{value:"Mobile, Computers & Devices",children:"Mobile, Computers & Devices"}),Object(x.jsx)("option",{value:"Consoles & Videogames",children:"Consoles & Videogames"}),Object(x.jsx)("option",{value:"Fashion",children:"Fashion"}),Object(x.jsx)("option",{value:"Sports & Outdoors",children:"Sports & Outdoors"}),Object(x.jsx)("option",{value:"Home & Garden",children:"Home & Garden"}),Object(x.jsx)("option",{value:"Health & Beauty",children:"Health & Beauty"}),Object(x.jsx)("option",{value:"Cinema, Books & Music",children:"Cinema, Books & Music"}),Object(x.jsx)("option",{value:"Vehicles & Motor",children:"Vehicles & Motor"}),Object(x.jsx)("option",{value:"Art & Collectibles",children:"Art & Collectibles"}),Object(x.jsx)("option",{value:"Toys & Kids",children:"Toys & Kids"})]}),Object(x.jsx)("br",{}),Object(x.jsx)(me.a,{type:"submit",variant:"secondary",size:"sm",children:"Edit Thread"})]})})}}]),a}(c.Component),ye=ge;a(139),a(140);function fe(e){e.isLoggedIn;return Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{class:"footer-basic",children:Object(x.jsxs)("footer",{children:[Object(x.jsxs)("div",{class:"social",children:[Object(x.jsx)("a",{href:"#",children:Object(x.jsx)("i",{class:"icon ion-social-instagram"})}),Object(x.jsx)("a",{href:"#",children:Object(x.jsx)("i",{class:"icon ion-social-snapchat"})}),Object(x.jsx)("a",{href:"#",children:Object(x.jsx)("i",{class:"icon ion-social-twitter"})}),Object(x.jsx)("a",{href:"#",children:Object(x.jsx)("i",{class:"icon ion-social-facebook"})})]}),Object(x.jsxs)("ul",{class:"list-inline",children:[Object(x.jsx)("li",{class:"list-inline-item",children:Object(x.jsx)(N.b,{to:"/",children:"Home"})}),Object(x.jsx)("li",{class:"list-inline-item",children:Object(x.jsx)(N.b,{to:"/forum",children:"Forum"})}),Object(x.jsx)("li",{class:"list-inline-item",children:Object(x.jsx)(N.b,{to:"/marketplace",children:"Marketplace"})}),Object(x.jsx)("li",{class:"list-inline-item",children:Object(x.jsx)("a",{href:"#",children:"Terms"})}),Object(x.jsx)("li",{class:"list-inline-item",children:Object(x.jsx)("a",{href:"#",children:"Privacy Policy"})})]}),Object(x.jsx)("p",{class:"copyright",children:"Tradehub Corporation \xa9 2021"})]})}),Object(x.jsx)("script",{src:"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"}),Object(x.jsx)("script",{src:"https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.bundle.min.js"})]})}var ve=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(x.jsx)("div",{children:"HELLO"})}}]),a}(c.Component),Ce=ve,ke=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={user:null,isLoggedIn:null},e.setUser=function(t,a){e.setState({user:t,isLoggedIn:a})},e.getUser=function(){null===e.state.user&&u.a.get("".concat("https://tradehub-app.herokuapp.com/api","/auth/loggedin"),{withCredentials:!0}).then((function(t){e.setState({user:t.data.user||null,isLoggedIn:!0})})).catch((function(t){e.setState({isLoggedIn:!1})}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getUser()}},{key:"render",value:function(){var e=this,t=this.state,a=t.user,c=t.isLoggedIn;return Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)(G,{isLoggedIn:c,user:a,setUser:this.setUser}),Object(x.jsxs)(p.c,{children:[Object(x.jsx)(p.a,{path:"/",component:M,exact:!0}),Object(x.jsx)(p.a,{path:"/signup",render:function(t){return Object(x.jsx)(v,Object(i.a)(Object(i.a)({},t),{},{setUser:e.setUser}))},exact:!0}),Object(x.jsx)(p.a,{path:"/marketplace",render:function(e){return Object(x.jsx)(Z,Object(i.a)(Object(i.a)({},e),{},{isLoggedIn:c,exact:!0}))}}),Object(x.jsx)(p.a,{path:"/login",render:function(t){return Object(x.jsx)(g,Object(i.a)(Object(i.a)({},t),{},{setUser:e.setUser}))},exact:!0}),Object(x.jsx)(p.a,{path:"/forum",render:function(e){return Object(x.jsx)(w,Object(i.a)(Object(i.a)({},e),{},{isLoggedIn:c}))},exact:!0}),Object(x.jsx)(p.a,{path:"/thread/:id",render:function(e){return Object(x.jsx)(le,Object(i.a)(Object(i.a)({},e),{},{user:a,isLoggedIn:c}))},exact:!0}),Object(x.jsx)(p.a,{path:"/product/:id/edit",component:xe,exact:!0}),Object(x.jsx)(p.a,{path:"/thread/:id/edit",component:ye,exact:!0}),Object(x.jsx)(p.a,{path:"/product/:id",render:function(e){return Object(x.jsx)(be,Object(i.a)(Object(i.a)({},e),{},{user:a,isLoggedIn:c}))},exact:!0}),Object(x.jsx)(p.a,{path:"/product/:id/edit",component:xe,exact:!0}),Object(x.jsx)(p.a,{path:"/order/success",component:Ce,exact:!0}),c&&Object(x.jsx)(p.a,{path:"/sell",component:U,exact:!0}),c&&Object(x.jsx)(p.a,{path:"/profile",component:ce,exact:!0}),c&&Object(x.jsx)(p.a,{path:"/create",component:k,exact:!0}),Object(x.jsx)(p.a,{path:"/not-found",component:he}),Object(x.jsx)(p.a,{path:"/not-authorized",component:je}),Object(x.jsx)(p.a,{path:"/error",component:de})]}),Object(x.jsx)(fe,{})]})}}]),a}(c.Component),Se=ke,Ne=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,146)).then((function(t){var a=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,n=t.getTTFB;a(e),c(e),r(e),s(e),n(e)}))};n.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(N.a,{children:Object(x.jsx)(Se,{})})}),document.getElementById("root")),Ne()},35:function(e,t,a){},40:function(e,t,a){},53:function(e,t,a){},67:function(e,t,a){},81:function(e,t,a){},99:function(e,t,a){}},[[141,1,2]]]);
//# sourceMappingURL=main.3fae7f50.chunk.js.map