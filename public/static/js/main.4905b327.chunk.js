(this["webpackJsonpm3-final-project-fe"]=this["webpackJsonpm3-final-project-fe"]||[]).push([[0],{132:function(e,t,a){},135:function(e,t,a){},136:function(e,t,a){},138:function(e,t,a){},140:function(e,t,a){},141:function(e,t,a){"use strict";a.r(t);var c=a(2),r=a.n(c),s=a(69),n=a.n(s),i=(a(81),a(4)),o=a(11),l=a(12),d=a(14),h=a(13),j=a(7),u=a.n(j),p=a(8),b=(a(99),a(20)),m=a(15),O=(a(66),a(1)),x=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:"",errorMessage:""},e.handleChange=function(t){var a=t.target,c=a.name,r=a.value;e.setState(Object(b.a)({},c,r))},e.handleSubmit=function(t){var a=e.state,c=a.email,r=a.password;t.preventDefault(),u.a.post("".concat("https://tradehub-app.herokuapp.com/api","/auth/login"),{email:c,password:r},{withCredentials:!0}).then((function(t){e.setState({email:"",password:""}),e.props.setUser(t.data,!0),e.props.history.push("/")})).catch((function(t){e.setState({errorMessage:t.response.data.errorMessage})}))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state,t=e.password,a=e.email,c=e.errorMessage;return Object(O.jsx)("div",{class:"auth-form",children:Object(O.jsxs)(m.a,{onSubmit:this.handleSubmit,children:[Object(O.jsx)("input",{type:"email",name:"email",value:a,onChange:this.handleChange,placeholder:"example@example.com"}),Object(O.jsx)("input",{type:"password",name:"password",value:t,onChange:this.handleChange,placeholder:"Password"}),c&&Object(O.jsx)("p",{children:c}),Object(O.jsx)("button",{type:"submit",children:"Login"})]})})}}]),a}(c.Component),g=a(31),y=a(145),f=a(34);a(103);var v=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:"",profilePic:"",email:"",city:"",imageIsUploading:!1,errorMessage:""},e.handleChange=function(t){var a=t.target,c=a.name,r=a.value;e.setState(Object(b.a)({},c,r))},e.handleImageUpload=function(t){console.log(t.target.files[0]),e.setState({imageIsUploading:!0});var a=new FormData;a.append("image",t.target.files[0]),u.a.post("".concat("https://tradehub-app.herokuapp.com/api","/upload"),a).then((function(t){console.log(t),e.setState({profilePic:t.data.imagePath,imageIsUploading:!1})})).catch((function(t){return e.props.history.push("/error")}))},e.handleSubmit=function(t){var a=e.state,c=a.username,r=a.password,s=a.email,n=a.city,i=a.profilePic;t.preventDefault(),u.a.post("".concat("https://tradehub-app.herokuapp.com/api","/auth/signup"),{username:c,password:r,profilePic:i,email:s,city:n}).then((function(t){e.setState({username:"",password:"",email:"",city:"",profilePic:""}),e.props.setUser(t.data,!0),e.props.history.push("/")})).catch((function(t){return e.setState({errorMessage:t.response.data.errorMessage})}))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.password,c=e.email,r=e.city,s=e.errorMessage,n=e.imageIsUploading;return Object(O.jsx)("div",{children:Object(O.jsx)("div",{class:"add-product-form",children:Object(O.jsxs)(m.a,{onSubmit:this.handleSubmit,children:[Object(O.jsxs)(m.a.Group,{className:"mb-3",controlId:"formGroupEmail",children:[Object(O.jsx)(m.a.Label,{htmlFor:"username",children:"Username"}),Object(O.jsx)(m.a.Control,{onChange:this.handleChange,type:"text",name:"username",value:t,placeholder:"Username"})]}),Object(O.jsxs)(m.a.Group,{className:"mb-3",controlId:"formGroupEmail",children:[Object(O.jsx)(m.a.Label,{htmlFor:"password",children:"Password"}),Object(O.jsx)(m.a.Control,{onChange:this.handleChange,type:"password",name:"password",value:a,placeholder:"*******"})]}),Object(O.jsxs)(m.a.Group,{className:"mb-3",controlId:"formGroupEmail",children:[Object(O.jsx)(m.a.Label,{htmlFor:"email",children:"E-Mail"}),Object(O.jsx)(m.a.Control,{onChange:this.handleChange,type:"email",name:"email",value:c,placeholder:"Enter E-Mail address"})]}),Object(O.jsxs)(m.a.Group,{onChange:this.handleImageUpload,controlId:"formFileSm",className:"mb-3",children:[Object(O.jsx)(m.a.Label,{htmlFor:"profilePic",children:"Profile Picture"}),Object(O.jsx)(f.RingLoader,{loading:n,size:150}),Object(O.jsx)(m.a.Control,{type:"file",size:"sm"})]}),Object(O.jsxs)(m.a.Group,{className:"mb-3",controlId:"formGroupEmail",children:[Object(O.jsx)(m.a.Label,{htmlFor:"price",children:"City"}),Object(O.jsx)(y.a,{children:Object(O.jsx)(m.a.Control,{onChange:this.handleChange,type:"text",name:"city",value:r,placeholder:"Enter city"})})]}),Object(O.jsx)(g.a,{type:"submit",disabled:n,variant:"secondary",size:"sm",children:"Register"}),s&&Object(O.jsx)("p",{children:s})]})})})}}]),a}(c.Component),C=a(22),k=(a(50),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={title:"",description:"",category:"",isActive:!0,edit:!1,errorMessage:""},e.handleChange=function(t){var a=t.target,c=a.name,r=a.value;e.setState(Object(b.a)({},c,r))},e.handleSubmit=function(t){var a=e.state,c=a.title,r=a.description,s=a.category;t.preventDefault(),u.a.post("".concat("https://tradehub-app.herokuapp.com/api","/thread/create"),{title:c,description:r,category:s},{withCredentials:!0}).then((function(){return e.props.history.push("/forum")})).catch((function(t){return e.setState({errorMessage:t.response.data.errorMessage})}))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state,t=e.title,a=e.description,c=e.category,r=e.errorMessage;return Object(O.jsx)("div",{class:"create-thread-form",children:Object(O.jsxs)(m.a,{class:"add-thread-form",onSubmit:this.handleSubmit,children:[Object(O.jsxs)(m.a.Group,{className:"mb-3",controlId:"formGroupEmail",children:[Object(O.jsx)(m.a.Label,{htmlFor:"title",children:"Thread Title"}),Object(O.jsx)(m.a.Control,{onChange:this.handleChange,type:"text",name:"title",value:t,placeholder:"Enter title"})]}),Object(O.jsxs)(m.a.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[Object(O.jsx)(m.a.Label,{htmlFor:"description",children:"Description"}),Object(O.jsx)(m.a.Control,{onChange:this.handleChange,type:"text",name:"description",value:a,as:"textarea",rows:3})]}),Object(O.jsxs)(m.a.Select,{onChange:this.handleChange,id:"category",name:"category",value:c,children:[Object(O.jsx)("option",{children:"Choose a category..."}),Object(O.jsx)("option",{value:"Mobile, Computers & Devices",children:"Mobile, Computers & Devices"}),Object(O.jsx)("option",{value:"Consoles & Videogames",children:"Consoles & Videogames"}),Object(O.jsx)("option",{value:"Fashion",children:"Fashion"}),Object(O.jsx)("option",{value:"Sports & Outdoors",children:"Sports & Outdoors"}),Object(O.jsx)("option",{value:"Home & Garden",children:"Home & Garden"}),Object(O.jsx)("option",{value:"Health & Beauty",children:"Health & Beauty"}),Object(O.jsx)("option",{value:"Cinema, Books & Music",children:"Cinema, Books & Music"}),Object(O.jsx)("option",{value:"Vehicles & Motor",children:"Vehicles & Motor"}),Object(O.jsx)("option",{value:"Art & Collectibles",children:"Art & Collectibles"}),Object(O.jsx)("option",{value:"Toys & Kids",children:"Toys & Kids"})]}),Object(O.jsx)("br",{}),Object(O.jsx)(C.a,{type:"submit",variant:"secondary",size:"sm",children:"Post Thread"}),r&&Object(O.jsx)("p",{children:r})]})})}}]),a}(c.Component)),S=k,F=a(24),N=a(9),w=a(3),T=(a(132),c.Component,function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={threadList:[],filteredList:[],isFiltered:!1,activeCategory:""},e.handleThreads=function(){u.a.get("".concat("https://tradehub-app.herokuapp.com/api","/thread/all"),{withCredentials:!0}).then((function(t){e.setState({threadList:Object(F.a)(t.data),filteredList:Object(F.a)(t.data)})})).catch((function(t){return e.props.history.push("/error")}))},e.handleFilter=function(t){console.log("filter magic happening!",t);var a=e.state.threadList.filter((function(e){return e.category.includes(t)}));e.setState({filteredList:a,isFiltered:!0,activeCategory:t})},e.handleTurnOffFilter=function(){var t=e.state.threadList;e.setState({isFiltered:!1,filteredList:Object(F.a)(t)})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.handleThreads()}},{key:"render",value:function(){var e=this,t=this.props.isLoggedIn,a=this.state,c=a.threadList,r=a.isFiltered,s=a.filteredList;a.activeCategory;return Object(O.jsxs)("div",{className:"all-thread-container",children:[Object(O.jsxs)("div",{class:"thread-category-container",children:[Object(O.jsx)(C.a,{onClick:function(){return e.handleTurnOffFilter()},children:"Clear filter"}),Object(O.jsx)("h3",{children:"Categories Filter"}),Object(O.jsxs)("div",{className:"thread-scrollable",children:[Object(O.jsxs)(w.a,{className:"thread-category-card",onClick:function(){return e.handleFilter("Mobile, Computers & Devices")},children:[Object(O.jsx)(w.a.Img,{class:"thread-category-image",variant:"top",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637232639/mobile_computers_devices_ahinyq.png"}),Object(O.jsx)(w.a.Body,{children:Object(O.jsx)(w.a.Title,{class:"thread-category-card-text",children:"Mobile Computers & Devices"})})]}),Object(O.jsxs)(w.a,{className:"thread-category-card",onClick:function(){return e.handleFilter("Consoles & Videogames")},children:[Object(O.jsx)(w.a.Img,{class:"thread-category-image",variant:"top",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637232639/console_videogames_lqyghb.png"}),Object(O.jsx)(w.a.Body,{children:Object(O.jsx)(w.a.Title,{class:"thread-category-card-text",children:"Consoles & Videogames"})})]}),Object(O.jsxs)(w.a,{className:"thread-category-card",onClick:function(){return e.handleFilter("Fashion")},children:[Object(O.jsx)(w.a.Img,{class:"thread-category-image",variant:"top",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637232639/fashion_hwpu6b.png"}),Object(O.jsx)(w.a.Body,{children:Object(O.jsx)(w.a.Title,{class:"thread-category-card-text",children:"Fashion"})})]}),Object(O.jsxs)(w.a,{className:"thread-category-card",onClick:function(){return e.handleFilter("Sports & Outdoors")},children:[Object(O.jsx)(w.a.Img,{class:"thread-category-image",variant:"top",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637232639/sports_outdoors_kp5cmw.png"}),Object(O.jsx)(w.a.Body,{children:Object(O.jsx)(w.a.Title,{class:"thread-category-card-text",children:"Sports & Outdoors"})})]}),Object(O.jsxs)(w.a,{className:"thread-category-card",onClick:function(){return e.handleFilter("Home & Garden")},children:[Object(O.jsx)(w.a.Img,{class:"thread-category-image",variant:"top",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637232638/home_garden_f2zga1.png"}),Object(O.jsx)(w.a.Body,{children:Object(O.jsx)(w.a.Title,{class:"thread-category-card-text",children:"Home & Garden"})})]}),Object(O.jsxs)(w.a,{className:"thread-category-card",onClick:function(){return e.handleFilter("Health & Beauty")},children:[Object(O.jsx)(w.a.Img,{class:"thread-category-image",variant:"top",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637232638/health_beauty_vtwx9s.png"}),Object(O.jsx)(w.a.Body,{children:Object(O.jsx)(w.a.Title,{class:"thread-category-card-text",children:"Health & Beauty"})})]}),Object(O.jsxs)(w.a,{className:"thread-category-card",onClick:function(){return e.handleFilter("Cinema, Books & Music")},children:[Object(O.jsx)(w.a.Img,{class:"thread-category-image",variant:"top",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637232638/cinema_book_music_geee25.png"}),Object(O.jsx)(w.a.Body,{children:Object(O.jsx)(w.a.Title,{class:"thread-category-card-text",children:"Cinema, Books & Music"})})]}),Object(O.jsxs)(w.a,{className:"thread-category-card",onClick:function(){return e.handleFilter("Vehicles & Motor")},children:[Object(O.jsx)(w.a.Img,{class:"thread-category-image",variant:"top",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637232638/vehicle_motor_himq6u.png"}),Object(O.jsx)(w.a.Body,{children:Object(O.jsx)(w.a.Title,{class:"thread-category-card-text",children:"Vehicles & Motor"})})]}),Object(O.jsxs)(w.a,{className:"thread-category-card",onClick:function(){return e.handleFilter("Art & Collectibles")},children:[Object(O.jsx)(w.a.Img,{class:"thread-category-image",variant:"top",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637232638/art_collectible_xfmxgn.png"}),Object(O.jsx)(w.a.Body,{children:Object(O.jsx)(w.a.Title,{class:"thread-category-card-text",children:"Art & Collectibles"})})]}),Object(O.jsxs)(w.a,{className:"thread-category-card",onClick:function(){return e.handleFilter("Toys & Kids")},children:[Object(O.jsx)(w.a.Img,{class:"thread-category-image",variant:"top",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637232638/kid_toy_psfz5w.png"}),Object(O.jsx)(w.a.Body,{children:Object(O.jsx)(w.a.Title,{class:"thread-category-card-text",children:"Toys & Kids"})})]})]}),Object(O.jsx)("div",{class:"category-container-mobile",children:Object(O.jsxs)(m.a.Select,{onChange:function(t){return e.handleFilter(t.target.value)},id:"category",children:[Object(O.jsx)("option",{children:"Mobile, Computers & Devices"}),Object(O.jsx)("option",{children:"Consoles & Videogames"}),Object(O.jsx)("option",{children:"Fashion"}),Object(O.jsx)("option",{children:"Sports & Outdoors"}),Object(O.jsx)("option",{children:"Home & Garden"}),Object(O.jsx)("option",{children:"Health & Beauty"}),Object(O.jsx)("option",{children:"Cinema, Books & Music"}),Object(O.jsx)("option",{children:"Vehicles & Motor"}),Object(O.jsx)("option",{children:"Art & Collectibles"}),Object(O.jsx)("option",{children:"Toys & Kids"})]})})]}),Object(O.jsxs)("div",{class:"all-threads",children:[t&&Object(O.jsx)(N.b,{to:"/create",children:Object(O.jsx)(C.a,{children:"Create Thread"})}),Object(O.jsx)("h3",{children:"Latest Threads"}),0===s.length&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h4",{style:{color:"red"},children:"There are no threads for this category."}),Object(O.jsxs)("h4",{style:{fontWeight:"bold"},children:["Be the first to list a thread under this category!",Object(O.jsx)(N.b,{to:"/create",children:"Click Here!"})]})]}),r&&Object(O.jsx)("div",{className:"thread-scrollable",children:s.map((function(e){return Object(O.jsx)(w.a,{style:{width:"70vw"},className:"single-thread-card",children:Object(O.jsxs)(w.a.Body,{children:[Object(O.jsxs)(w.a.Title,{children:["Created by: ",e.createdBy.username]}),Object(O.jsx)(w.a.Title,{children:e.title}),Object(O.jsxs)(w.a.Text,{children:["Category: ",e.category]}),Object(O.jsx)(w.a.Text,{children:e.createdAt}),Object(O.jsx)(N.b,{to:"/thread/".concat(e._id),children:Object(O.jsx)(C.a,{children:"See Details"})})]},e._id)})}))}),!r&&Object(O.jsx)("div",{className:"thread-scrollable",children:c.map((function(e){return Object(O.jsx)(w.a,{style:{width:"70vw"},className:"single-thread-card",children:Object(O.jsxs)(w.a.Body,{children:[Object(O.jsxs)(w.a.Title,{children:["Created by: ",e.createdBy.username]}),Object(O.jsx)(w.a.Title,{children:e.title}),Object(O.jsxs)(w.a.Text,{children:["Category: ",e.category]}),Object(O.jsx)(w.a.Text,{children:e.createdAt.slice(0,10)}),Object(O.jsx)(N.b,{to:"/thread/".concat(e._id),children:Object(O.jsx)(C.a,{children:"See Details"})})]},e._id)})}))})]})]})}}]),a}(c.Component)),I=T,L=(a(135),{width:"60vw",textAlign:"center",lineHeight:"5vh"}),M=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(O.jsxs)("div",{className:"home-container",children:[Object(O.jsx)("img",{className:"home-logo",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637173969/tradehub-logo-white_s3sfhi.png",alt:"logo black",style:{width:"50vw"}}),Object(O.jsx)("h2",{style:L,children:"At TradeHub you will sell items you no longer use, and connect with the community."})]})}}]),a}(c.Component),B=M,_=a(17),P=a(53),D=(a(136),{textDecoration:"none",color:"white"}),G={color:"rgb(248,157,13)"};function A(e){var t=e.isLoggedIn,a=(e.user,e.setUser),r=Object(c.useState)(!1),s=Object(_.a)(r,2),n=s[0],i=s[1],o=function(){u.a.post("".concat("https://tradehub-app.herokuapp.com/api","/auth/logout"),{},{withCredentials:!0}).then((function(){a(null,!1)}))},l=function(){i(!n)};return Object(O.jsxs)("div",{class:"navbar",children:[Object(O.jsx)("div",{children:Object(O.jsx)(N.c,{exact:!0,to:"/",children:Object(O.jsx)("img",{src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637173969/tradehub-logo-black_tgvwyt.png",alt:"logo",style:{width:"9rem"}})})}),Object(O.jsx)(P.a,{className:"toggleButton",onClick:l,color:"white"}),Object(O.jsxs)("div",{className:"navbarLinks",children:[Object(O.jsx)(N.c,{style:D,activeStyle:G,to:"/marketplace",children:Object(O.jsx)("h3",{children:"Marketplace"})}),Object(O.jsx)(N.c,{style:D,activeStyle:G,to:"/forum",children:Object(O.jsx)("h3",{children:"Forum"})}),!t&&Object(O.jsxs)(O.Fragment,{children:[" ",Object(O.jsx)(N.c,{to:"/signup",style:D,activeStyle:G,children:Object(O.jsx)("h3",{children:"Register"})}),Object(O.jsx)(N.c,{to:"/login",style:D,activeStyle:G,children:Object(O.jsx)("h3",{children:"Login"})})]}),t&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(N.c,{to:"/sell",style:D,activeStyle:G,children:Object(O.jsx)("h3",{children:"List Item"})}),Object(O.jsx)(N.c,{to:"/create",style:D,activeStyle:G,children:Object(O.jsx)("h3",{children:"Create Thread"})}),Object(O.jsx)(N.c,{to:"/profile",style:D,activeStyle:G,children:Object(O.jsx)("h3",{children:"Profile"})}),Object(O.jsx)(N.c,{to:"/",style:D,children:Object(O.jsx)("h3",{onClick:o,children:"Log out"})})]})]}),n&&Object(O.jsxs)("div",{className:"navbarLinks minimizedNavlinks",children:[Object(O.jsx)(N.c,{style:D,activeStyle:G,to:"/marketplace",onClick:l,children:Object(O.jsx)("h3",{children:"Market"})}),Object(O.jsx)(N.c,{style:D,activeStyle:G,to:"/forum",onClick:l,children:Object(O.jsx)("h3",{children:"Forum"})}),!t&&Object(O.jsxs)(O.Fragment,{children:[" ",Object(O.jsx)(N.c,{to:"/signup",style:D,activeStyle:G,onClick:l,children:Object(O.jsx)("h3",{children:"Register"})}),Object(O.jsx)(N.c,{to:"/login",style:D,activeStyle:G,onClick:l,children:Object(O.jsx)("h3",{children:"Login"})})]}),t&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(N.c,{to:"/profile",style:D,activeStyle:G,onClick:l,children:Object(O.jsx)("h3",{children:"Profile"})}),Object(O.jsx)(N.c,{to:"/",style:D,onClick:l,children:Object(O.jsx)("h3",{onClick:o,children:"Log out"})})]})]})]})}var E=a(52),H=a.n(E),U=(a(42),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={name:"",image:"",description:"",price:0,category:"",stock:0,imageIsUploading:!1,errorMessage:""},e.handleChange=function(t){var a=t.target,c=a.name,r=a.value;e.setState(Object(b.a)({},c,r))},e.handleImageUpload=function(t){e.setState({imageIsUploading:!0});var a=new FormData;a.append("image",t.target.files[0]),u.a.post("".concat("https://tradehub-app.herokuapp.com/api","/upload"),a).then((function(t){console.log(t),e.setState({image:t.data.imagePath,imageIsUploading:!1})})).catch((function(t){return e.props.history.push("/error")}))},e.handleSubmit=function(t){t.preventDefault();var a=e.state,c=a.name,r=a.image,s=a.description,n=a.price,i=a.category,o=a.stock;u.a.post("".concat("https://tradehub-app.herokuapp.com/api","/product/create"),{name:c,image:r,description:s,price:Number(n),category:i,stock:Number(o)},{withCredentials:!0}).then((function(){return e.props.history.push("/")})).catch((function(t){return e.setState({errorMessage:t.response.data.errorMessage})}))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state,t=e.name,a=(e.image,e.description),c=e.price,r=e.category,s=e.stock,n=e.imageIsUploading,i=e.errorMessage;return Object(O.jsx)("div",{class:"add-product-form",children:Object(O.jsxs)(m.a,{onSubmit:this.handleSubmit,children:[Object(O.jsxs)(m.a.Group,{className:"mb-3",controlId:"formGroupEmail",children:[Object(O.jsx)(m.a.Label,{htmlFor:"name",children:"Name of Product"}),Object(O.jsx)(m.a.Control,{onChange:this.handleChange,type:"text",name:"name",value:t,placeholder:"Enter product"})]}),Object(O.jsxs)(m.a.Group,{onChange:this.handleImageUpload,controlId:"formFileSm",className:"mb-3",children:[Object(O.jsx)(m.a.Label,{htmlFor:"image",children:"Image"}),Object(O.jsx)(H.a,{loading:n,size:150}),Object(O.jsx)(m.a.Control,{type:"file",size:"sm"})]}),Object(O.jsxs)(m.a.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[Object(O.jsx)(m.a.Label,{htmlFor:"description",children:"Description"}),Object(O.jsx)(m.a.Control,{onChange:this.handleChange,type:"text",name:"description",value:a,as:"textarea",rows:3})]}),Object(O.jsxs)(m.a.Group,{className:"mb-3",controlId:"formGroupEmail",children:[Object(O.jsx)(m.a.Label,{htmlFor:"price",children:"Price"}),Object(O.jsxs)(y.a,{children:[Object(O.jsx)(y.a.Text,{id:"inputGroupPrepend",children:"\u20ac"}),Object(O.jsx)(m.a.Control,{onChange:this.handleChange,type:"number",name:"price",value:c,placeholder:"Enter price"})]})]}),Object(O.jsxs)(m.a.Select,{onChange:this.handleChange,id:"category",name:"category",value:r,children:[Object(O.jsx)("option",{children:"Choose a category..."}),Object(O.jsx)("option",{value:"Mobile, Computers & Devices",children:"Mobile, Computers & Devices"}),Object(O.jsx)("option",{value:"Consoles & Videogames",children:"Consoles & Videogames"}),Object(O.jsx)("option",{value:"Fashion",children:"Fashion"}),Object(O.jsx)("option",{value:"Sports & Outdoors",children:"Sports & Outdoors"}),Object(O.jsx)("option",{value:"Home & Garden",children:"Home & Garden"}),Object(O.jsx)("option",{value:"Health & Beauty",children:"Health & Beauty"}),Object(O.jsx)("option",{value:"Cinema, Books & Music",children:"Cinema, Books & Music"}),Object(O.jsx)("option",{value:"Vehicles & Motor",children:"Vehicles & Motor"}),Object(O.jsx)("option",{value:"Art & Collectibles",children:"Art & Collectibles"}),Object(O.jsx)("option",{value:"Toys & Kids",children:"Toys & Kids"})]}),Object(O.jsxs)(m.a.Group,{className:"mb-3",controlId:"formGroupEmail",children:[Object(O.jsx)(m.a.Label,{htmlFor:"stock",children:"Stock"}),Object(O.jsx)(m.a.Control,{onChange:this.handleChange,type:"number",name:"stock",value:s})]}),Object(O.jsx)(C.a,{type:"submit",disabled:n,variant:"secondary",size:"sm",children:"Submit Product"}),i&&Object(O.jsx)("p",{children:i})]})})}}]),a}(c.Component)),V=U,z=a(71),K=a(36),q=a(57),R=a.n(q),Y=a(72);function J(){var e,t=Object(K.useStripe)(),a=Object(K.useElements)(),r=Object(c.useState)(null),s=Object(_.a)(r,2),n=s[0],i=s[1],o=Object(c.useState)(!1),l=Object(_.a)(o,2),d=l[0],h=l[1];Object(c.useEffect)((function(){if(t){var e=new URLSearchParams(window.location.search).get("payment_intent_client_secret");e&&t.retrievePaymentIntent(e).then((function(e){switch(e.paymentIntent.status){case"succeeded":i("Payment succeeded!");break;case"processing":i("Your payment is processing.");break;case"requires_payment_method":i("Your payment was not successful, please try again.");break;default:i("Something went wrong.")}})).catch((function(e){return console.log(e)}))}}),[t]);var j=function(){var e=Object(Y.a)(R.a.mark((function e(c){var r,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),t&&a){e.next=3;break}return e.abrupt("return");case 3:return h(!0),e.next=6,t.confirmPayment({elements:a,confirmParams:{return_url:"http://localhost:3000/order/success?session_id={CHECKOUT_SESSION_ID}"}});case 6:r=e.sent,"card_error"===(s=r.error).type||"validation_error"===s.type?i(s.message):i("An unexpected error occured."),h(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)("form",{id:"payment-form",onSubmit:j,children:[Object(O.jsx)(K.PaymentElement,{id:"payment-element"}),Object(O.jsx)("button",(e={id:"payment-button",disabled:d||!t||!a},Object(b.a)(e,"id","submit"),Object(b.a)(e,"children",Object(O.jsx)("span",{id:"button-text",children:d?Object(O.jsx)("div",{className:"spinner",id:"spinner"}):"Pay now"})),e)),n&&Object(O.jsx)("div",{id:"payment-message",children:n})]})}a(138);var W=Object(z.a)("pk_test_51JwX9tHrox29DJrePxlMELbAbakAPPpCDb1oixYXOqT5cICYtjD6z6YZyWLduovddj77RbEyg2AGjt7krrOFtFiG00t7ez9tXR");function X(e){var t=e.itemToBuy,a=Object(c.useState)(""),r=Object(_.a)(a,2),s=r[0],n=r[1],i=Object(c.useEffect)((function(){fetch("".concat("https://tradehub-app.herokuapp.com/api","/payments/create-payment-intent"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:[t]})}).then((function(e){return e.json()})).then((function(e){return n(e.clientSecret)})).catch((function(e){return console.log(e)}))}),[t]),o=Object(_.a)(i,2),l=(o[0],o[1],{clientSecret:s,appearance:{theme:"stripe"}});return Object(O.jsx)("div",{className:"payment-body",children:s&&Object(O.jsx)(K.Elements,{options:l,stripe:W,children:Object(O.jsx)(J,{})})})}var Z=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={productList:[],isLoading:!0,itemToBuy:null,filteredList:[],isFiltered:!1,categorySelected:""},e.handleProducts=function(){u.a.get("".concat("https://tradehub-app.herokuapp.com/api","/product/all"),{withCredentials:!0}).then((function(t){console.log(t.data),e.setState({productList:Object(F.a)(t.data),filteredList:Object(F.a)(t.data)})})).catch((function(t){return e.props.history.push("/error")}))},e.handleFilter=function(t){console.log("filter magic happening!",t);var a=e.state.productList.filter((function(e){return e.category.includes(t)}));e.setState({filteredList:a,isFiltered:!0,categorySelected:t})},e.displayText=function(){},e.handleClick=function(t){e.setState({itemToBuy:t})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.handleProducts()}},{key:"render",value:function(){var e=this,t=this.state,a=t.productList,c=(t.isLoading,t.itemToBuy,t.isFiltered),r=t.filteredList,s=t.categorySelected,n=this.props.isLoggedIn;return Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{class:"category-container",children:[Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(w.a,{onClick:function(){return e.handleFilter("Mobile, Computers & Devices")},className:"category-card",name:"Mobile, Computers & Devices",border:"light",children:[Object(O.jsx)(w.a.Img,{className:"category-image",variant:"top",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637232639/mobile_computers_devices_ahinyq.png"}),Object(O.jsx)(w.a.Body,{children:Object(O.jsx)(w.a.Title,{className:"category-card-text",children:"Mobile Computers & Devices"})})]}),Object(O.jsxs)(w.a,{onClick:function(){return e.handleFilter("Consoles & Videogames")},className:"category-card",border:"light",children:[Object(O.jsx)(w.a.Img,{className:"category-image",variant:"top",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637232639/console_videogames_lqyghb.png"}),Object(O.jsx)(w.a.Body,{children:Object(O.jsx)(w.a.Title,{className:"category-card-text",children:"Consoles & Videogames"})})]}),Object(O.jsxs)(w.a,{onClick:function(){return e.handleFilter("Fashion")},className:"category-card",border:"light",children:[Object(O.jsx)(w.a.Img,{className:"category-image",variant:"top",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637232639/fashion_hwpu6b.png"}),Object(O.jsx)(w.a.Body,{children:Object(O.jsx)(w.a.Title,{className:"category-card-text",children:"Fashion"})})]}),Object(O.jsxs)(w.a,{onClick:function(){return e.handleFilter("Sports & Outdoors")},className:"category-card",border:"light",children:[Object(O.jsx)(w.a.Img,{className:"category-image",variant:"top",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637232639/sports_outdoors_kp5cmw.png"}),Object(O.jsx)(w.a.Body,{children:Object(O.jsx)(w.a.Title,{className:"category-card-text",children:"Sports & Outdoors"})})]}),Object(O.jsxs)(w.a,{onClick:function(){return e.handleFilter("Home & Garden")},className:"category-card",border:"light",children:[Object(O.jsx)(w.a.Img,{className:"category-image",variant:"top",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637232638/home_garden_f2zga1.png"}),Object(O.jsx)(w.a.Body,{children:Object(O.jsx)(w.a.Title,{className:"category-card-text",children:"Home & Garden"})})]}),Object(O.jsxs)(w.a,{onClick:function(){return e.handleFilter("Health & Beauty")},className:"category-card",border:"light",children:[Object(O.jsx)(w.a.Img,{className:"category-image",variant:"top",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637232638/health_beauty_vtwx9s.png"}),Object(O.jsx)(w.a.Body,{children:Object(O.jsx)(w.a.Title,{className:"category-card-text",children:"Health & Beauty"})})]}),Object(O.jsxs)(w.a,{onClick:function(){return e.handleFilter("Cinema, Books & Music")},border:"light",className:"category-card",children:[Object(O.jsx)(w.a.Img,{class:"category-image",variant:"top",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637232638/cinema_book_music_geee25.png"}),Object(O.jsx)(w.a.Body,{children:Object(O.jsx)(w.a.Title,{className:"category-card-text",children:"Cinema, Books & Music"})})]}),Object(O.jsxs)(w.a,{onClick:function(){return e.handleFilter("Vehicles & Motor")},border:"light",className:"category-card",children:[Object(O.jsx)(w.a.Img,{className:"category-image",variant:"top",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637232638/vehicle_motor_himq6u.png"}),Object(O.jsx)(w.a.Body,{children:Object(O.jsx)(w.a.Title,{className:"category-card-text",children:"Vehicles & Motor"})})]}),Object(O.jsxs)(w.a,{onClick:function(){return e.handleFilter("Art & Collectibles")},border:"light",className:"category-card",children:[Object(O.jsx)(w.a.Img,{className:"category-image",variant:"top",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637232638/art_collectible_xfmxgn.png"}),Object(O.jsx)(w.a.Body,{children:Object(O.jsx)(w.a.Title,{className:"category-card-text",children:"Art & Collectibles"})})]}),Object(O.jsxs)(w.a,{onClick:function(){return e.handleFilter("Toys & Kids")},border:"light",className:"category-card",children:[Object(O.jsx)(w.a.Img,{className:"category-image",variant:"top",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637232638/kid_toy_psfz5w.png"}),Object(O.jsx)(w.a.Body,{children:Object(O.jsx)(w.a.Title,{className:"category-card-text",children:"Toys & Kids"})})]})]}),Object(O.jsxs)("div",{class:"category-container-mobile",children:[Object(O.jsxs)(m.a.Select,{onChange:function(t){return e.handleFilter(t.target.value)},id:"category",children:[Object(O.jsx)("option",{children:"All Categories"}),Object(O.jsx)("option",{value:"Mobile, Computers & Devices",children:"Mobile, Computers & Devices"}),Object(O.jsx)("option",{value:"Consoles & Videogames",children:"Consoles & Videogames"}),Object(O.jsx)("option",{value:"Fashion",children:"Fashion"}),Object(O.jsx)("option",{value:"Sports & Outdoors",children:"Sports & Outdoors"}),Object(O.jsx)("option",{value:"Home & Garden",children:"Home & Garden"}),Object(O.jsx)("option",{value:"Health & Beauty",children:"Health & Beauty"}),Object(O.jsx)("option",{value:"Cinema, Books & Music",children:"Cinema, Books & Music"}),Object(O.jsx)("option",{value:"Vehicles & Motor",children:"Vehicles & Motor"}),Object(O.jsx)("option",{value:"Art & Collectibles",children:"Art & Collectibles"}),Object(O.jsx)("option",{value:"Toys & Kids",children:"Toys & Kids"})]}),Object(O.jsx)(C.a,{className:"all-categories-btn",onClick:function(){return e.setState({isFiltered:!1,filteredList:Object(F.a)(a)})},children:"All Categories"})]})]}),Object(O.jsxs)("div",{class:"all-products",children:[Object(O.jsx)("h4",{children:s}),n&&Object(O.jsx)(N.b,{to:"/sell",children:Object(O.jsx)("button",{children:"List Product"})}),Object(O.jsx)("h3",{children:"Latest Products"}),0===r.length&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h4",{style:{color:"red"},children:"There are no products for this category."}),Object(O.jsxs)("h4",{style:{fontWeight:"bold"},children:["Be the first to list a product under this category!",Object(O.jsx)(N.b,{to:"/sell",children:"Click Here!"})]})]}),c&&Object(O.jsx)(O.Fragment,{children:r.map((function(e){return Object(O.jsxs)(w.a,{className:"product-card",children:[Object(O.jsx)(w.a.Img,{variant:"top",src:e.image}),Object(O.jsxs)(w.a.Body,{children:[Object(O.jsx)(w.a.Title,{children:e.name}),Object(O.jsx)(N.b,{to:"/product/".concat(e._id),children:Object(O.jsx)(C.a,{className:"see-details-btn",children:"See Details"})})]})]})}))}),!c&&Object(O.jsx)(O.Fragment,{children:a.map((function(e){return Object(O.jsxs)(w.a,{className:"product-card",children:[Object(O.jsx)(w.a.Img,{variant:"top",src:e.image}),Object(O.jsxs)(w.a.Body,{children:[Object(O.jsx)(w.a.Title,{children:e.name}),Object(O.jsx)(w.a.Text,{children:e.description}),Object(O.jsx)(N.b,{to:"/product/".concat(e._id),children:Object(O.jsx)(C.a,{className:"see-details-btn",children:"See Details"})})]})]})}))})]})]})}}]),a}(c.Component),Q=Z,$=a(144),ee=a(143);a(51);var te=function(){var e=Object(c.useState)([]),t=Object(_.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(!0),i=Object(_.a)(n,2),o=i[0],l=i[1];return Object(c.useEffect)((function(){u.a.get("".concat("https://tradehub-app.herokuapp.com/api","/product/my-products"),{withCredentials:!0}).then((function(e){s(Object(F.a)(e.data.products)),l(!1)})).catch((function(e){return console.log(e)}))}),[]),Object(O.jsx)("div",{className:"scrollable",children:o?Object(O.jsx)(f.RingLoader,{loading:o,size:50}):a.map((function(e){return Object(O.jsx)("div",{className:"thread-card",children:Object(O.jsx)(r.a.Fragment,{children:Object(O.jsxs)($.a.Item,{as:"li",className:"d-flex justify-content-between align-items-start",children:[Object(O.jsxs)("div",{className:"ms-2 me-auto",children:[Object(O.jsx)("div",{className:"fw-bold",children:e.name}),e.description]}),Object(O.jsx)(N.b,{to:"/product/".concat(e._id),children:Object(O.jsx)(ee.a,{variant:"primary",pill:!0,children:"details"})})]})},e._id)})}))})};var ae=function(){var e=Object(c.useState)([]),t=Object(_.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(!0),i=Object(_.a)(n,2),o=i[0],l=i[1];return Object(c.useEffect)((function(){u.a.get("".concat("https://tradehub-app.herokuapp.com/api","/thread/my-threads"),{withCredentials:!0}).then((function(e){s(Object(F.a)(e.data.threads)),l(!1)})).catch((function(e){console.log(e)}))}),[]),Object(O.jsx)("div",{className:"scrollable",children:o?Object(O.jsx)(f.RingLoader,{loading:o,size:50}):a.map((function(e){return Object(O.jsx)("div",{className:"thread-card",children:Object(O.jsx)(r.a.Fragment,{children:Object(O.jsxs)($.a.Item,{as:"li",className:"d-flex justify-content-between align-items-start",children:[Object(O.jsxs)("div",{className:"ms-2 me-auto",children:[Object(O.jsx)("div",{className:"fw-bold",children:e.title}),e.description]}),Object(O.jsx)(N.b,{to:"/thread/".concat(e._id),children:Object(O.jsx)(ee.a,{variant:"primary",pill:!0,children:"details"})})]})},e._id)})}))})},ce=a(75),re=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={username:"",city:"",email:"",createdAt:"",profilePic:"",isShowingForm:!1,imageIsUploading:!1,successMessage:!1},e.handleUserInfo=function(){u.a.get("".concat("https://tradehub-app.herokuapp.com/api","/profile"),{withCredentials:!0}).then((function(t){e.setState({username:t.data.username,email:t.data.email,city:t.data.city,createdAt:t.data.createdAt.slice(0,10),profilePic:t.data.profilePic})})).catch((function(t){e.props.history.push("/error")}))},e.handleImageUpload=function(t){e.setState({imageIsUploading:!0});var a=new FormData;a.append("image",t.target.files[0]),u.a.post("".concat("https://tradehub-app.herokuapp.com/api","/upload"),a).then((function(t){console.log(t),e.setState({profilePic:t.data.imagePath,imageIsUploading:!1})})).catch((function(t){return e.props.history.push("/error")}))},e.handleSubmit=function(t){var a=e.state,c=a.profilePic,r=a.isShowingForm;t.preventDefault(),u.a.patch("".concat("https://tradehub-app.herokuapp.com/api","/profile/edit-pic"),{profilePic:c},{withCredentials:!0}).then((function(t){console.log(t),e.setState({isShowingForm:!r,successMessage:!0}),e.props.history.push("/profile")})).catch((function(t){console.log(t),e.props.history.push("/error")}))},e.showForm=function(){e.setState({isShowingForm:!e.state.isShowingForm})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.handleUserInfo()}},{key:"render",value:function(){var e=this,t=this.state,a=t.username,c=t.city,r=t.email,s=t.createdAt,n=t.profilePic,i=t.isShowingForm,o=t.successMessage;return Object(O.jsxs)("div",{className:"profile-component",children:[Object(O.jsxs)("div",{className:"profile-img-div",children:[Object(O.jsx)("img",{src:n,className:"profile-img",alt:"Profile Img"}),Object(O.jsx)("h4",{children:a}),Object(O.jsxs)("p",{children:["TradeHub User Since ",s]}),Object(O.jsx)("p",{children:r}),Object(O.jsx)("p",{children:c}),Object(O.jsx)("button",{onClick:this.showForm,children:"Edit Profile Picture"})]}),o&&Object(O.jsxs)("div",{className:"success-msg",children:[Object(O.jsx)("p",{children:"Succesfully changed your profile picture. You look beautiful"}),Object(O.jsx)(ce.a,{color:"red",size:25,onClick:function(){return e.setState({successMessage:!1})}})]}),i&&Object(O.jsxs)(m.a,{onSubmit:this.handleSubmit,children:[Object(O.jsxs)(m.a.Group,{onChange:this.handleImageUpload,controlId:"formFileSm",className:"mb-3",children:[Object(O.jsx)(m.a.Label,{htmlFor:"profilePic",children:"Profile Picture"}),Object(O.jsx)(m.a.Control,{type:"file",size:"sm",name:"profilePic"})]}),Object(O.jsx)(C.a,{type:"submit",children:"Upload"})]}),Object(O.jsxs)("div",{className:"profile-listings",children:[Object(O.jsxs)("div",{className:"profile-products",children:[Object(O.jsx)("h6",{children:"Your products"}),Object(O.jsx)(te,{})]}),Object(O.jsxs)("div",{className:"profile-threads",children:[Object(O.jsx)("h6",{children:"Your Threads"}),Object(O.jsx)(ae,{})]})]})]})}}]),a}(c.Component),se=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={description:"",errorMessage:""},e.handleChange=function(t){var a=t.target,c=a.name,r=a.value;e.setState(Object(b.a)({},c,r))},e.handleSubmit=function(t){var a=e.state.description;t.preventDefault(),u.a.post("".concat("https://tradehub-app.herokuapp.com/api","/comment/create/").concat(e.props.id),{description:a},{withCredentials:!0}).then((function(){return e.props.handleComments()})).catch((function(t){return e.setState({errorMessage:t.response.data.errorMessage})}))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state,t=e.description,a=e.errorMessage;return Object(O.jsxs)("div",{children:[Object(O.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(O.jsx)("label",{htmlFor:"title",children:"comment:"}),Object(O.jsx)("input",{type:"text",name:"description",value:t,onChange:this.handleChange}),Object(O.jsx)("button",{type:"submit",children:"submit"})]}),a&&Object(O.jsx)("p",{children:a})]})}}]),a}(c.Component),ne=se,ie=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={commentList:[],username:""},e.handleComments=function(){u.a.get("".concat("https://tradehub-app.herokuapp.com/api","/comment/all/").concat(e.props.id),{withCredentials:!0}).then((function(t){e.setState({commentList:Object(F.a)(t.data)})})).catch((function(t){return e.props.history.push("/error")}))},e.handleDelete=function(t){u.a.delete("".concat("https://tradehub-app.herokuapp.com/api","/comment/").concat(t),{withCredentials:!0}).then((function(){return e.props.history.push("/forum")})).catch((function(){return e.props.history.push("/error")}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.handleComments()}},{key:"render",value:function(){var e=this,t=this.state.commentList;return Object(O.jsxs)("div",{children:[Object(O.jsx)(ne,{id:this.props.id,history:this.props.history,handleComments:this.handleComments}),t.length&&Object(O.jsx)(O.Fragment,{children:t.map((function(t){return Object(O.jsx)(w.a,{children:Object(O.jsxs)(w.a.Body,{children:[Object(O.jsx)(w.a.Text,{style:{fontSize:"18px"},children:t.userId.username}),Object(O.jsx)(w.a.Text,{children:t.description}),Object(O.jsx)(C.a,{onClick:function(){return e.handleDelete(t._id)},children:"Delete"})]})})}))})]})}}]),a}(c.Component),oe=ie,le=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={oneThread:null,isLoading:!0,edit:!1},e.handleDelete=function(){u.a.delete("".concat("https://tradehub-app.herokuapp.com/api","/thread/").concat(e.props.match.params.id),{withCredentials:!0}).then((function(){return e.props.history.push("/forum")})).catch((function(){return e.props.history.push("/error")}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props),u.a.get("".concat("https://tradehub-app.herokuapp.com/api","/thread/").concat(this.props.match.params.id),{withCredentials:!0}).then((function(t){e.setState({oneThread:t.data,isLoading:!1,edit:t.data.edit})})).catch((function(t){return e.props.history.push("/error")}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.oneThread,c=e.edit;return Object(O.jsxs)("div",{className:"one-thread-div",children:[Object(O.jsx)("h2",{children:"One Thread"}),t&&Object(O.jsx)("h1",{children:"...Loading"}),!t&&Object(O.jsxs)(w.a,{className:"one-thread-card",border:"light",children:[Object(O.jsxs)(w.a.Body,{className:"one-thread-card-body",children:[Object(O.jsxs)(w.a.Title,{children:["Title:",a.title]}),Object(O.jsx)(w.a.Text,{children:a.description}),Object(O.jsx)(w.a.Text,{children:a.category}),Object(O.jsx)(N.b,{to:"/thread/".concat(a._id,"/edit"),children:Object(O.jsx)(C.a,{children:"Edit"})}),Object(O.jsx)(C.a,{onClick:this.handleDelete,children:"Delete"})]}),c&&Object(O.jsx)(w.a.Text,{children:"Edited"}),Object(O.jsx)(oe,{id:this.props.match.params.id,history:this.props.history})]})]})}}]),a}(c.Component),de=le;function he(e){var t=e.history;return Object(O.jsxs)("div",{style:{marginTop:"10vh"},children:[Object(O.jsx)("h2",{children:"Oops... Someting Went Wrong. Please go back"}),Object(O.jsx)("button",{onClick:function(){return t.goBack()},children:"Go back"})]})}var je=function(e){var t=e.history;return Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"Not fouund. Please go back"}),Object(O.jsx)("button",{onClick:function(){return t.goBack()},children:"Go back"})]})};var ue=function(e){var t=e.history;return Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"You are not authorized. Pleaso log in."}),Object(O.jsx)("button",{onClick:function(){return t.goBack()},children:"Go back"})]})},pe=a(76),be=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={oneProduct:null,isLoading:!0,edit:!1,itemToBuy:null,userId:"",isLoggedIn:null},e.handleClick=function(t){e.setState({itemToBuy:t})},e.handleDelete=function(){u.a.delete("".concat("https://tradehub-app.herokuapp.com/api","/product/").concat(e.props.match.params.id)).then((function(){return e.props.history.push("/")})).catch((function(){return e.props.history.push("/error")}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.isLoggedIn,c=t.user;u.a.get("".concat("https://tradehub-app.herokuapp.com/api","/product/").concat(this.props.match.params.id),{withCredentials:!0}).then((function(t){console.log(t),e.setState({oneProduct:t.data,isLoading:!1,data:t.data.edit,userId:a?c._id:""})})).catch((function(t){return e.props.history.push("/error")}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.userId,c=t.isLoading,r=t.oneProduct,s=t.edit,n=t.itemToBuy,i=this.props;i.user,i.isLoggedIn;return Object(O.jsxs)("div",{class:"one-product-card",children:[c&&Object(O.jsx)("h1",{children:"...Loading"}),!c&&Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{children:Object(O.jsxs)(w.a,{className:"text-center",children:[Object(O.jsx)(w.a.Header,{children:r.category}),Object(O.jsxs)(w.a.Body,{children:[Object(O.jsx)(w.a.Title,{children:r.name}),Object(O.jsx)(w.a.Img,{className:"one-product-img",src:r.image}),Object(O.jsx)(w.a.Text,{children:r.description}),Object(O.jsxs)($.a,{className:"list-group-flush",children:[Object(O.jsxs)(pe.a,{children:["Price: \u20ac",r.price]}),Object(O.jsx)("br",{})]}),r.addedBy._id===a&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(C.a,{className:"product-btn",onClick:this.handleDelete,variant:"primary",children:"Delete"}),Object(O.jsx)(N.b,{to:"/product/".concat(r._id,"/edit"),children:Object(O.jsx)(C.a,{className:"product-btn",children:"Edit"})})]}),s&&Object(O.jsx)("p",{children:"Edited"}),Object(O.jsx)(C.a,{className:"product-btn",onClick:function(){return e.handleClick(r)},children:"Buy"}),n&&n._id===r._id&&Object(O.jsx)(X,{itemToBuy:n})]}),Object(O.jsxs)(w.a.Footer,{className:"text-muted",children:["Added by ",r.addedBy.username]})]})})})]})}}]),a}(c.Component),me=be,Oe=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={name:"",description:"",category:"",stock:"",price:"",edit:!1,errorMessage:""},e.handleChange=function(t){var a=t.target,c=a.name,r=a.value;e.setState(Object(b.a)({},c,r))},e.handleSubmit=function(t){var a=e.state,c=a.name,r=a.description,s=a.category,n=a.stock,i=a.price;t.preventDefault(),u.a.patch("".concat("https://tradehub-app.herokuapp.com/api","/product/").concat(e.props.match.params.id),{name:c,description:r,category:s,stock:n,price:i,edit:!0},{withCredentials:!0}).then((function(){return e.props.history.push("/")})).catch((function(t){return e.setState({errorMessage:t.response.data.errorMessage})}))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state,t=e.name,a=e.description,c=e.category,r=e.price,s=e.stock,n=e.errorMessage;return Object(O.jsx)("div",{class:"add-product-form",children:Object(O.jsxs)(m.a,{onSubmit:this.handleSubmit,children:[Object(O.jsxs)(m.a.Group,{className:"mb-3",controlId:"formGroupEmail",children:[Object(O.jsx)(m.a.Label,{htmlFor:"name",children:"Name of Product"}),Object(O.jsx)(m.a.Control,{onChange:this.handleChange,type:"text",name:"name",value:t,placeholder:"Enter product"})]}),Object(O.jsxs)(m.a.Group,{onChange:this.handleImageUpload,controlId:"formFileSm",className:"mb-3",children:[Object(O.jsx)(m.a.Label,{htmlFor:"image",children:"Image"}),Object(O.jsx)(m.a.Control,{type:"file",size:"sm"})]}),Object(O.jsxs)(m.a.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[Object(O.jsx)(m.a.Label,{htmlFor:"description",children:"Description"}),Object(O.jsx)(m.a.Control,{onChange:this.handleChange,type:"text",name:"description",value:a,as:"textarea",rows:3})]}),Object(O.jsxs)(m.a.Group,{className:"mb-3",controlId:"formGroupEmail",children:[Object(O.jsx)(m.a.Label,{htmlFor:"price",children:"Price"}),Object(O.jsxs)(y.a,{children:[Object(O.jsx)(y.a.Text,{id:"inputGroupPrepend",children:"\u20ac"}),Object(O.jsx)(m.a.Control,{onChange:this.handleChange,type:"number",name:"price",value:r,placeholder:"Enter price"})]})]}),Object(O.jsxs)(m.a.Select,{onChange:this.handleChange,id:"category",name:"category",value:c,children:[Object(O.jsx)("option",{children:"Choose a category..."}),Object(O.jsx)("option",{value:"Mobile, Computers & Devices",children:"Mobile, Computers & Devices"}),Object(O.jsx)("option",{value:"Consoles & Videogames",children:"Consoles & Videogames"}),Object(O.jsx)("option",{value:"Fashion",children:"Fashion"}),Object(O.jsx)("option",{value:"Sports & Outdoors",children:"Sports & Outdoors"}),Object(O.jsx)("option",{value:"Home & Garden",children:"Home & Garden"}),Object(O.jsx)("option",{value:"Health & Beauty",children:"Health & Beauty"}),Object(O.jsx)("option",{value:"Cinema, Books & Music",children:"Cinema, Books & Music"}),Object(O.jsx)("option",{value:"Vehicles & Motor",children:"Vehicles & Motor"}),Object(O.jsx)("option",{value:"Art & Collectibles",children:"Art & Collectibles"}),Object(O.jsx)("option",{value:"Toys & Kids",children:"Toys & Kids"})]}),Object(O.jsxs)(m.a.Group,{className:"mb-3",controlId:"formGroupEmail",children:[Object(O.jsx)(m.a.Label,{htmlFor:"stock",children:"Stock"}),Object(O.jsx)(m.a.Control,{onChange:this.handleChange,type:"number",name:"stock",value:s})]}),Object(O.jsx)(g.a,{type:"submit",variant:"secondary",size:"sm",children:"Submit Product"}),n&&Object(O.jsx)("p",{children:n})]})})}}]),a}(c.Component),xe=Oe,ge=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={title:"",description:"",category:"",isActive:!0,edit:!1},e.handleChange=function(t){var a=t.target,c=a.name,r=a.value;e.setState(Object(b.a)({},c,r))},e.handleSubmit=function(t){var a=e.state,c=a.title,r=a.description,s=a.category,n=a.isActive;t.preventDefault(),u.a.patch("".concat("https://tradehub-app.herokuapp.com/api","/thread/").concat(e.props.match.params.id),{title:c,description:r,category:s,isActive:n,edit:!0},{withCredentials:!0}).then((function(){return e.props.history.push("/forum")})).catch((function(){return e.props.history.push("/error")}))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state,t=e.title,a=e.description,c=e.category;e.isActive;return Object(O.jsx)("div",{class:"create-thread-form",children:Object(O.jsxs)(m.a,{class:"add-thread-form",onSubmit:this.handleSubmit,children:[Object(O.jsxs)(m.a.Group,{className:"mb-3",controlId:"formGroupEmail",children:[Object(O.jsx)(m.a.Label,{htmlFor:"title",children:"Thread Title"}),Object(O.jsx)(m.a.Control,{onChange:this.handleChange,type:"text",name:"title",value:t,placeholder:"Enter title"})]}),Object(O.jsxs)(m.a.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[Object(O.jsx)(m.a.Label,{htmlFor:"description",children:"Description"}),Object(O.jsx)(m.a.Control,{onChange:this.handleChange,type:"text",name:"description",value:a,as:"textarea",rows:3})]}),Object(O.jsxs)(m.a.Select,{onChange:this.handleChange,id:"category",name:"category",value:c,children:[Object(O.jsx)("option",{children:"Choose a category..."}),Object(O.jsx)("option",{value:"Mobile, Computers & Devices",children:"Mobile, Computers & Devices"}),Object(O.jsx)("option",{value:"Consoles & Videogames",children:"Consoles & Videogames"}),Object(O.jsx)("option",{value:"Fashion",children:"Fashion"}),Object(O.jsx)("option",{value:"Sports & Outdoors",children:"Sports & Outdoors"}),Object(O.jsx)("option",{value:"Home & Garden",children:"Home & Garden"}),Object(O.jsx)("option",{value:"Health & Beauty",children:"Health & Beauty"}),Object(O.jsx)("option",{value:"Cinema, Books & Music",children:"Cinema, Books & Music"}),Object(O.jsx)("option",{value:"Vehicles & Motor",children:"Vehicles & Motor"}),Object(O.jsx)("option",{value:"Art & Collectibles",children:"Art & Collectibles"}),Object(O.jsx)("option",{value:"Toys & Kids",children:"Toys & Kids"})]}),Object(O.jsx)("br",{}),Object(O.jsx)(g.a,{type:"submit",variant:"secondary",size:"sm",children:"Edit Thread"})]})})}}]),a}(c.Component),ye=ge;a(139),a(140);function fe(e){e.isLoggedIn;return Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{class:"footer-basic",children:Object(O.jsxs)("footer",{children:[Object(O.jsxs)("div",{class:"social",children:[Object(O.jsx)("a",{href:"#",children:Object(O.jsx)("i",{class:"icon ion-social-instagram"})}),Object(O.jsx)("a",{href:"#",children:Object(O.jsx)("i",{class:"icon ion-social-snapchat"})}),Object(O.jsx)("a",{href:"#",children:Object(O.jsx)("i",{class:"icon ion-social-twitter"})}),Object(O.jsx)("a",{href:"#",children:Object(O.jsx)("i",{class:"icon ion-social-facebook"})})]}),Object(O.jsxs)("ul",{class:"list-inline",children:[Object(O.jsx)("li",{class:"list-inline-item",children:Object(O.jsx)(N.b,{to:"/",children:"Home"})}),Object(O.jsx)("li",{class:"list-inline-item",children:Object(O.jsx)(N.b,{to:"/forum",children:"Forum"})}),Object(O.jsx)("li",{class:"list-inline-item",children:Object(O.jsx)(N.b,{to:"/marketplace",children:"Marketplace"})}),Object(O.jsx)("li",{class:"list-inline-item",children:Object(O.jsx)("a",{href:"#",children:"Terms"})}),Object(O.jsx)("li",{class:"list-inline-item",children:Object(O.jsx)("a",{href:"#",children:"Privacy Policy"})})]}),Object(O.jsx)("p",{class:"copyright",children:"Tradehub Corporation \xa9 2021"})]})}),Object(O.jsx)("script",{src:"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"}),Object(O.jsx)("script",{src:"https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.bundle.min.js"})]})}var ve=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(O.jsx)("div",{children:"HELLO"})}}]),a}(c.Component),Ce=ve,ke=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={user:null,isLoggedIn:null},e.setUser=function(t,a){e.setState({user:t,isLoggedIn:a})},e.getUser=function(){null===e.state.user&&u.a.get("".concat("https://tradehub-app.herokuapp.com/api","/auth/loggedin"),{withCredentials:!0}).then((function(t){e.setState({user:t.data.user||null,isLoggedIn:!0})})).catch((function(t){e.setState({isLoggedIn:!1})}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getUser()}},{key:"render",value:function(){var e=this,t=this.state,a=t.user,c=t.isLoggedIn;return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)(A,{isLoggedIn:c,user:a,setUser:this.setUser}),Object(O.jsxs)(p.c,{children:[Object(O.jsx)(p.a,{path:"/",component:B,exact:!0}),Object(O.jsx)(p.a,{path:"/signup",render:function(t){return Object(O.jsx)(v,Object(i.a)(Object(i.a)({},t),{},{setUser:e.setUser}))},exact:!0}),Object(O.jsx)(p.a,{path:"/marketplace",render:function(e){return Object(O.jsx)(Q,Object(i.a)(Object(i.a)({},e),{},{isLoggedIn:c,exact:!0}))}}),Object(O.jsx)(p.a,{path:"/login",render:function(t){return Object(O.jsx)(x,Object(i.a)(Object(i.a)({},t),{},{setUser:e.setUser}))},exact:!0}),Object(O.jsx)(p.a,{path:"/forum",render:function(e){return Object(O.jsx)(I,Object(i.a)(Object(i.a)({},e),{},{isLoggedIn:c}))},exact:!0}),Object(O.jsx)(p.a,{path:"/thread/:id",component:de,exact:!0}),Object(O.jsx)(p.a,{path:"/product/:id/edit",component:xe,exact:!0}),Object(O.jsx)(p.a,{path:"/thread/:id/edit",component:ye,exact:!0}),Object(O.jsx)(p.a,{path:"/product/:id",render:function(e){return Object(O.jsx)(me,Object(i.a)(Object(i.a)({},e),{},{user:a,isLoggedIn:c}))},exact:!0}),Object(O.jsx)(p.a,{path:"/product/:id/edit",component:xe,exact:!0}),Object(O.jsx)(p.a,{path:"/order/success",component:Ce,exact:!0}),c&&Object(O.jsx)(p.a,{path:"/sell",component:V,exact:!0}),c&&Object(O.jsx)(p.a,{path:"/profile",component:re,exact:!0}),c&&Object(O.jsx)(p.a,{path:"/create",component:S,exact:!0}),Object(O.jsx)(p.a,{path:"/not-found",component:je}),Object(O.jsx)(p.a,{path:"/not-authorized",component:ue}),Object(O.jsx)(p.a,{path:"/error",component:he})]}),Object(O.jsx)(fe,{})]})}}]),a}(c.Component),Se=ke,Fe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,146)).then((function(t){var a=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,n=t.getTTFB;a(e),c(e),r(e),s(e),n(e)}))};n.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(N.a,{children:Object(O.jsx)(Se,{})})}),document.getElementById("root")),Fe()},42:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},66:function(e,t,a){},81:function(e,t,a){},99:function(e,t,a){}},[[141,1,2]]]);
//# sourceMappingURL=main.4905b327.chunk.js.map