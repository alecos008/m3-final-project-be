(this["webpackJsonpm3-final-project-fe"]=this["webpackJsonpm3-final-project-fe"]||[]).push([[0],{127:function(e,t,a){},128:function(e,t,a){},129:function(e,t,a){},131:function(e,t,a){},132:function(e,t,a){},133:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),r=a(61),s=a.n(r),i=(a(72),a(2)),o=a(10),l=a(11),d=a(13),h=a(12),j=a(7),u=a.n(j),p=a(6),b=(a(90),a(18)),m=a(14),O=(a(56),a(0)),x=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var c=arguments.length,n=new Array(c),r=0;r<c;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={email:"",password:"",errorMessage:""},e.handleChange=function(t){var a=t.target,c=a.name,n=a.value;e.setState(Object(b.a)({},c,n))},e.handleSubmit=function(t){var a=e.state,c=a.email,n=a.password;t.preventDefault(),u.a.post("".concat("https://tradehub-app.herokuapp.com/api","/auth/login"),{email:c,password:n},{withCredentials:!0}).then((function(t){e.setState({email:"",password:""}),e.props.setUser(t.data,!0),e.props.history.push("/")})).catch((function(t){e.setState({errorMessage:t.response.data.errorMessage})}))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state,t=e.password,a=e.email,c=e.errorMessage;return Object(O.jsx)("div",{class:"auth-form",children:Object(O.jsxs)(m.a,{onSubmit:this.handleSubmit,children:[Object(O.jsx)("input",{type:"email",name:"email",value:a,onChange:this.handleChange,placeholder:"example@example.com"}),Object(O.jsx)("input",{type:"password",name:"password",value:t,onChange:this.handleChange,placeholder:"Password"}),c&&Object(O.jsx)("p",{children:c}),Object(O.jsx)("button",{type:"submit",children:"Login"})]})})}}]),a}(c.Component),g=a(31),f=a(137),v=a(30);a(94);var y=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var c=arguments.length,n=new Array(c),r=0;r<c;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={username:"",password:"",profilePic:"",email:"",city:"",imageIsUploading:!1,errorMessage:""},e.handleChange=function(t){var a=t.target,c=a.name,n=a.value;e.setState(Object(b.a)({},c,n))},e.handleImageUpload=function(t){console.log(t.target.files[0]),e.setState({imageIsUploading:!0});var a=new FormData;a.append("image",t.target.files[0]),u.a.post("".concat("https://tradehub-app.herokuapp.com/api","/upload"),a).then((function(t){console.log(t),e.setState({profilePic:t.data.imagePath,imageIsUploading:!1})})).catch((function(t){return e.props.history.push("/500")}))},e.handleSubmit=function(t){var a=e.state,c=a.username,n=a.password,r=a.email,s=a.city,i=a.profilePic;t.preventDefault(),u.a.post("".concat("https://tradehub-app.herokuapp.com/api","/auth/signup"),{username:c,password:n,profilePic:i,email:r,city:s}).then((function(t){e.setState({username:"",password:"",email:"",city:"",profilePic:""}),e.props.setUser(t.data,!0),e.props.history.push("/")})).catch((function(t){return e.setState({errorMessage:t.response.data.errorMessage})}))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.password,c=e.email,n=e.city,r=e.errorMessage,s=e.imageIsUploading;return Object(O.jsx)("div",{children:Object(O.jsx)("div",{class:"add-product-form",children:Object(O.jsxs)(m.a,{onSubmit:this.handleSubmit,children:[Object(O.jsxs)(m.a.Group,{className:"mb-3",controlId:"formGroupEmail",children:[Object(O.jsx)(m.a.Label,{htmlFor:"username",children:"Username"}),Object(O.jsx)(m.a.Control,{onChange:this.handleChange,type:"text",name:"username",value:t,placeholder:"Username"})]}),Object(O.jsxs)(m.a.Group,{className:"mb-3",controlId:"formGroupEmail",children:[Object(O.jsx)(m.a.Label,{htmlFor:"password",children:"Password"}),Object(O.jsx)(m.a.Control,{onChange:this.handleChange,type:"password",name:"password",value:a,placeholder:"*******"})]}),Object(O.jsxs)(m.a.Group,{className:"mb-3",controlId:"formGroupEmail",children:[Object(O.jsx)(m.a.Label,{htmlFor:"email",children:"E-Mail"}),Object(O.jsx)(m.a.Control,{onChange:this.handleChange,type:"email",name:"email",value:c,placeholder:"Enter E-Mail address"})]}),Object(O.jsxs)(m.a.Group,{onChange:this.handleImageUpload,controlId:"formFileSm",className:"mb-3",children:[Object(O.jsx)(m.a.Label,{htmlFor:"profilePic",children:"Profile Picture"}),Object(O.jsx)(v.RingLoader,{loading:s,size:150}),Object(O.jsx)(m.a.Control,{type:"file",size:"sm"})]}),Object(O.jsxs)(m.a.Group,{className:"mb-3",controlId:"formGroupEmail",children:[Object(O.jsx)(m.a.Label,{htmlFor:"price",children:"City"}),Object(O.jsx)(f.a,{children:Object(O.jsx)(m.a.Control,{onChange:this.handleChange,type:"text",name:"city",value:n,placeholder:"Enter city"})})]}),Object(O.jsx)(g.a,{type:"submit",disabled:s,variant:"secondary",size:"sm",children:"Register"}),r&&Object(O.jsx)("p",{children:r})]})})})}}]),a}(c.Component),C=a(123),k=(a(59),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var c=arguments.length,n=new Array(c),r=0;r<c;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={title:"",description:"",category:"",isActive:!0,edit:!1,errorMessage:""},e.handleChange=function(t){var a=t.target,c=a.name,n=a.value;e.setState(Object(b.a)({},c,n))},e.handleSubmit=function(t){var a=e.state,c=a.title,n=a.description,r=a.category;t.preventDefault(),u.a.post("".concat("https://tradehub-app.herokuapp.com/api","/thread/create"),{title:c,description:n,category:r},{withCredentials:!0}).then((function(){return e.props.history.push("/")})).catch((function(t){return e.setState({errorMessage:t.response.data.errorMessage})}))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state,t=e.title,a=e.description,c=e.category,n=e.errorMessage;return Object(O.jsx)("div",{class:"create-thread-form",children:Object(O.jsxs)(m.a,{class:"add-thread-form",onSubmit:this.handleSubmit,children:[Object(O.jsxs)(m.a.Group,{className:"mb-3",controlId:"formGroupEmail",children:[Object(O.jsx)(m.a.Label,{htmlFor:"title",children:"Thread Title"}),Object(O.jsx)(m.a.Control,{onChange:this.handleChange,type:"text",name:"title",value:t,placeholder:"Enter title"})]}),Object(O.jsxs)(m.a.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[Object(O.jsx)(m.a.Label,{htmlFor:"description",children:"Description"}),Object(O.jsx)(m.a.Control,{onChange:this.handleChange,type:"text",name:"description",value:a,as:"textarea",rows:3})]}),Object(O.jsxs)(m.a.Select,{onChange:this.handleChange,id:"category",name:"category",value:c,children:[Object(O.jsx)("option",{children:"Choose a category..."}),Object(O.jsx)("option",{value:"Mobile, Computers & Devices",children:"Mobile, Computers & Devices"}),Object(O.jsx)("option",{value:"Consoles & Videogames",children:"Consoles & Videogames"}),Object(O.jsx)("option",{value:"Fashion",children:"Fashion"}),Object(O.jsx)("option",{value:"Sports & Outdoors",children:"Sports & Outdoors"}),Object(O.jsx)("option",{value:"Home & Garden",children:"Home & Garden"}),Object(O.jsx)("option",{value:"Health & Beauty",children:"Health & Beauty"}),Object(O.jsx)("option",{value:"Cinema, Books & Music",children:"Cinema, Books & Music"}),Object(O.jsx)("option",{value:"Vehicles & Motor",children:"Vehicles & Motor"}),Object(O.jsx)("option",{value:"Art & Collectibles",children:"Art & Collectibles"}),Object(O.jsx)("option",{value:"Toys & Kids",children:"Toys & Kids"})]}),Object(O.jsx)("br",{}),Object(O.jsx)(C.a,{type:"submit",variant:"secondary",size:"sm",children:"Post Thread"}),n&&Object(O.jsx)("p",{children:n})]})})}}]),a}(c.Component)),S=k,w=a(27),L=a(8),I=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var c=arguments.length,n=new Array(c),r=0;r<c;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={threadList:[]},e.handleThreads=function(){u.a.get("".concat("https://tradehub-app.herokuapp.com/api","/thread/all"),{withCredentials:!0}).then((function(t){e.setState({threadList:Object(w.a)(t.data)})})).catch((function(t){return e.props.history.push("/500")}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.handleThreads()}},{key:"render",value:function(){var e=this.props.isLoggedIn,t=this.state.threadList;return Object(O.jsxs)("div",{class:"all-threads",children:[e&&Object(O.jsx)(L.b,{to:"/create",children:Object(O.jsx)("button",{children:"Create Thread"})}),Object(O.jsx)("h3",{children:"Latest Threads"}),t.length&&Object(O.jsx)(O.Fragment,{children:t.map((function(e){return Object(O.jsx)(n.a.Fragment,{children:Object(O.jsxs)(L.b,{to:"/thread/".concat(e._id),children:[Object(O.jsx)("h4",{children:e.title}),Object(O.jsx)("p",{children:e.category})]})},e._id)}))})]})}}]),a}(c.Component),N=I,P=a(28),M=(a(126),a(127),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(O.jsxs)("div",{class:"container my-container",children:[Object(O.jsxs)(P.a,{className:"card",children:[Object(O.jsx)(P.a.Img,{class:"category-image",variant:"top",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637232639/mobile_computers_devices_ahinyq.png"}),Object(O.jsx)(P.a.Body,{children:Object(O.jsx)(P.a.Title,{className:"card-text",children:"Mobile Computers & Devices"})})]}),Object(O.jsxs)(P.a,{className:"card",children:[Object(O.jsx)(P.a.Img,{class:"category-image",variant:"top",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637232639/console_videogames_lqyghb.png"}),Object(O.jsx)(P.a.Body,{children:Object(O.jsx)(P.a.Title,{class:"card-text",children:"Consoles & Videogames"})})]}),Object(O.jsxs)(P.a,{className:"card",children:[Object(O.jsx)(P.a.Img,{class:"category-image",variant:"top",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637232639/fashion_hwpu6b.png"}),Object(O.jsx)(P.a.Body,{children:Object(O.jsx)(P.a.Title,{class:"card-text",children:"Fashion"})})]}),Object(O.jsxs)(P.a,{className:"card",children:[Object(O.jsx)(P.a.Img,{class:"category-image",variant:"top",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637232639/sports_outdoors_kp5cmw.png"}),Object(O.jsx)(P.a.Body,{children:Object(O.jsx)(P.a.Title,{class:"card-text",children:"Sports & Outdoors"})})]}),Object(O.jsxs)(P.a,{className:"card",children:[Object(O.jsx)(P.a.Img,{class:"category-image",variant:"top",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637232638/home_garden_f2zga1.png"}),Object(O.jsx)(P.a.Body,{children:Object(O.jsx)(P.a.Title,{class:"card-text",children:"Home & Garden"})})]}),Object(O.jsxs)(P.a,{className:"card",children:[Object(O.jsx)(P.a.Img,{class:"category-image",variant:"top",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637232638/health_beauty_vtwx9s.png"}),Object(O.jsx)(P.a.Body,{children:Object(O.jsx)(P.a.Title,{class:"card-text",children:"Health & Beauty"})})]}),Object(O.jsxs)(P.a,{className:"card",children:[Object(O.jsx)(P.a.Img,{class:"category-image",variant:"top",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637232638/cinema_book_music_geee25.png"}),Object(O.jsx)(P.a.Body,{children:Object(O.jsx)(P.a.Title,{class:"card-text",children:"Cinema, Books & Music"})})]}),Object(O.jsxs)(P.a,{className:"card",children:[Object(O.jsx)(P.a.Img,{class:"category-image",variant:"top",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637232638/vehicle_motor_himq6u.png"}),Object(O.jsx)(P.a.Body,{children:Object(O.jsx)(P.a.Title,{class:"card-text",children:"Vehicles & Motor"})})]}),Object(O.jsxs)(P.a,{className:"card",children:[Object(O.jsx)(P.a.Img,{class:"category-image",variant:"top",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637232638/art_collectible_xfmxgn.png"}),Object(O.jsx)(P.a.Body,{children:Object(O.jsx)(P.a.Title,{class:"card-text",children:"Art & Collectibles"})})]}),Object(O.jsxs)(P.a,{className:"card",children:[Object(O.jsx)(P.a.Img,{class:"category-image",variant:"top",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637232638/kid_toy_psfz5w.png"}),Object(O.jsx)(P.a.Body,{children:Object(O.jsx)(P.a.Title,{class:"card-text",children:"Toys & Kids"})})]})]})}}]),a}(c.Component)),T=M,_=(a(128),{width:"60vw",textAlign:"center",lineHeight:"5vh"}),F=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(O.jsxs)("div",{className:"home-container",children:[Object(O.jsx)("img",{className:"home-logo",src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637173969/tradehub-logo-white_s3sfhi.png",alt:"logo black",style:{width:"50vw"}}),Object(O.jsx)("h2",{style:_,children:"At TradeHub you will sell items you no longer use, and connect with the community."}),Object(O.jsx)(T,{})]})}}]),a}(c.Component),D=F,B=a(17),G=a(67),E=(a(129),{textDecoration:"none",color:"white"}),U={color:"yellow"};function A(e){var t=e.isLoggedIn,a=(e.user,e.setUser),n=Object(c.useState)(!1),r=Object(B.a)(n,2),s=r[0],i=r[1],o=function(){u.a.post("".concat("https://tradehub-app.herokuapp.com/api","/auth/logout"),{},{withCredentials:!0}).then((function(){a(null,!1)}))},l=function(){i(!s)};return Object(O.jsxs)("div",{class:"navbar",children:[Object(O.jsx)("div",{children:Object(O.jsx)(L.c,{exact:!0,to:"/",children:Object(O.jsx)("img",{src:"https://res.cloudinary.com/db9eiaidf/image/upload/v1637173969/tradehub-logo-black_tgvwyt.png",alt:"logo",style:{width:"9rem"}})})}),Object(O.jsx)(G.a,{className:"toggleButton",onClick:l,color:"white"}),Object(O.jsxs)("div",{className:"navbarLinks",children:[Object(O.jsx)(L.c,{style:E,activeStyle:U,to:"/marketplace",children:Object(O.jsx)("h3",{children:"Marketplace"})}),Object(O.jsx)(L.c,{style:E,activeStyle:U,to:"/forum",children:Object(O.jsx)("h3",{children:"Forum"})}),!t&&Object(O.jsxs)(O.Fragment,{children:[" ",Object(O.jsx)(L.c,{to:"/signup",style:E,activeStyle:U,children:Object(O.jsx)("h3",{children:"Register"})}),Object(O.jsx)(L.c,{to:"/login",style:E,activeStyle:U,children:Object(O.jsx)("h3",{children:"Login"})})]}),t&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(L.c,{to:"/sell",style:E,activeStyle:U,children:Object(O.jsx)("h3",{children:"List Item"})}),Object(O.jsx)(L.c,{to:"/create",style:E,activeStyle:U,children:Object(O.jsx)("h3",{children:"Create Thread"})}),Object(O.jsx)(L.c,{to:"/profile",style:E,activeStyle:U,children:Object(O.jsx)("h3",{children:"Profile"})}),Object(O.jsx)(L.c,{to:"/",style:E,children:Object(O.jsx)("h3",{onClick:o,children:"Log out"})})]})]}),s&&Object(O.jsxs)("div",{className:"navbarLinks minimizedNavlinks",children:[Object(O.jsx)(L.c,{style:E,activeStyle:U,to:"/marketplace",onClick:l,children:Object(O.jsx)("h3",{children:"Market"})}),Object(O.jsx)(L.c,{style:E,activeStyle:U,to:"/forum",onClick:l,children:Object(O.jsx)("h3",{children:"Forum"})}),!t&&Object(O.jsxs)(O.Fragment,{children:[" ",Object(O.jsx)(L.c,{to:"/signup",style:E,activeStyle:U,onClick:l,children:Object(O.jsx)("h3",{children:"Register"})}),Object(O.jsx)(L.c,{to:"/login",style:E,activeStyle:U,onClick:l,children:Object(O.jsx)("h3",{children:"Login"})})]}),t&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(L.c,{to:"/profile",style:E,activeStyle:U,onClick:l,children:Object(O.jsx)("h3",{children:"Profile"})}),Object(O.jsx)(L.c,{to:"/",style:E,onClick:l,children:Object(O.jsx)("h3",{onClick:o,children:"Log out"})})]})]})]})}var z=a(43),H=a.n(z),V=(a(60),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var c=arguments.length,n=new Array(c),r=0;r<c;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={name:"",image:"",description:"",price:0,category:"",stock:0,imageIsUploading:!1,errorMessage:""},e.handleChange=function(t){var a=t.target,c=a.name,n=a.value;e.setState(Object(b.a)({},c,n))},e.handleImageUpload=function(t){e.setState({imageIsUploading:!0});var a=new FormData;a.append("image",t.target.files[0]),u.a.post("".concat("https://tradehub-app.herokuapp.com/api","/upload"),a).then((function(t){console.log(t),e.setState({image:t.data.imagePath,imageIsUploading:!1})})).catch((function(t){return e.props.history.push("/error")}))},e.handleSubmit=function(t){t.preventDefault();var a=e.state,c=a.name,n=a.image,r=a.description,s=a.price,i=a.category,o=a.stock;u.a.post("".concat("https://tradehub-app.herokuapp.com/api","/product/create"),{name:c,image:n,description:r,price:Number(s),category:i,stock:Number(o)},{withCredentials:!0}).then((function(){return e.props.history.push("/")})).catch((function(t){return e.setState({errorMessage:t.response.data.errorMessage})}))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state,t=e.name,a=(e.image,e.description),c=e.price,n=e.category,r=e.stock,s=e.imageIsUploading,i=e.errorMessage;return Object(O.jsx)("div",{class:"add-product-form",children:Object(O.jsxs)(m.a,{onSubmit:this.handleSubmit,children:[Object(O.jsxs)(m.a.Group,{className:"mb-3",controlId:"formGroupEmail",children:[Object(O.jsx)(m.a.Label,{htmlFor:"name",children:"Name of Product"}),Object(O.jsx)(m.a.Control,{onChange:this.handleChange,type:"text",name:"name",value:t,placeholder:"Enter product"})]}),Object(O.jsxs)(m.a.Group,{onChange:this.handleImageUpload,controlId:"formFileSm",className:"mb-3",children:[Object(O.jsx)(m.a.Label,{htmlFor:"image",children:"Image"}),Object(O.jsx)(H.a,{loading:s,size:150}),Object(O.jsx)(m.a.Control,{type:"file",size:"sm"})]}),Object(O.jsxs)(m.a.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[Object(O.jsx)(m.a.Label,{htmlFor:"description",children:"Description"}),Object(O.jsx)(m.a.Control,{onChange:this.handleChange,type:"text",name:"description",value:a,as:"textarea",rows:3})]}),Object(O.jsxs)(m.a.Group,{className:"mb-3",controlId:"formGroupEmail",children:[Object(O.jsx)(m.a.Label,{htmlFor:"price",children:"Price"}),Object(O.jsxs)(f.a,{children:[Object(O.jsx)(f.a.Text,{id:"inputGroupPrepend",children:"\u20ac"}),Object(O.jsx)(m.a.Control,{onChange:this.handleChange,type:"number",name:"price",value:c,placeholder:"Enter price"})]})]}),Object(O.jsxs)(m.a.Select,{onChange:this.handleChange,id:"category",name:"category",value:n,children:[Object(O.jsx)("option",{children:"Choose a category..."}),Object(O.jsx)("option",{value:"Mobile, Computers & Devices",children:"Mobile, Computers & Devices"}),Object(O.jsx)("option",{value:"Consoles & Videogames",children:"Consoles & Videogames"}),Object(O.jsx)("option",{value:"Fashion",children:"Fashion"}),Object(O.jsx)("option",{value:"Sports & Outdoors",children:"Sports & Outdoors"}),Object(O.jsx)("option",{value:"Home & Garden",children:"Home & Garden"}),Object(O.jsx)("option",{value:"Health & Beauty",children:"Health & Beauty"}),Object(O.jsx)("option",{value:"Cinema, Books & Music",children:"Cinema, Books & Music"}),Object(O.jsx)("option",{value:"Vehicles & Motor",children:"Vehicles & Motor"}),Object(O.jsx)("option",{value:"Art & Collectibles",children:"Art & Collectibles"}),Object(O.jsx)("option",{value:"Toys & Kids",children:"Toys & Kids"})]}),Object(O.jsxs)(m.a.Group,{className:"mb-3",controlId:"formGroupEmail",children:[Object(O.jsx)(m.a.Label,{htmlFor:"stock",children:"Stock"}),Object(O.jsx)(m.a.Control,{onChange:this.handleChange,type:"number",name:"stock",value:r})]}),Object(O.jsx)(C.a,{type:"submit",disabled:s,variant:"secondary",size:"sm",children:"Submit Product"}),i&&Object(O.jsx)("p",{children:i})]})})}}]),a}(c.Component)),R=V,Y=a(63),q=a(33),J=a(47),K=a.n(J),W=a(64);function X(){var e,t=Object(q.useStripe)(),a=Object(q.useElements)(),n=Object(c.useState)(null),r=Object(B.a)(n,2),s=r[0],i=r[1],o=Object(c.useState)(!1),l=Object(B.a)(o,2),d=l[0],h=l[1];Object(c.useEffect)((function(){if(t){var e=new URLSearchParams(window.location.search).get("payment_intent_client_secret");e&&t.retrievePaymentIntent(e).then((function(e){switch(e.paymentIntent.status){case"succeeded":i("Payment succeeded!");break;case"processing":i("Your payment is processing.");break;case"requires_payment_method":i("Your payment was not successful, please try again.");break;default:i("Something went wrong.")}}))}}),[t]);var j=function(){var e=Object(W.a)(K.a.mark((function e(c){var n,r;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),t&&a){e.next=3;break}return e.abrupt("return");case 3:return h(!0),e.next=6,t.confirmPayment({elements:a,confirmParams:{return_url:"http://localhost:3000"}});case 6:n=e.sent,"card_error"===(r=n.error).type||"validation_error"===r.type?i(r.message):i("An unexpected error occured."),h(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)("form",{id:"payment-form",onSubmit:j,children:[Object(O.jsx)(q.PaymentElement,{id:"payment-element"}),Object(O.jsx)("button",(e={id:"payment-button",disabled:d||!t||!a},Object(b.a)(e,"id","submit"),Object(b.a)(e,"children",Object(O.jsx)("span",{id:"button-text",children:d?Object(O.jsx)("div",{className:"spinner",id:"spinner"}):"Pay now"})),e)),s&&Object(O.jsx)("div",{id:"payment-message",children:s})]})}a(131);var Z=Object(Y.a)("pk_test_51JwX9tHrox29DJrePxlMELbAbakAPPpCDb1oixYXOqT5cICYtjD6z6YZyWLduovddj77RbEyg2AGjt7krrOFtFiG00t7ez9tXR");function Q(e){var t=e.itemToBuy,a=Object(c.useState)(""),n=Object(B.a)(a,2),r=n[0],s=n[1];Object(c.useEffect)((function(){fetch("".concat("https://tradehub-app.herokuapp.com/api","/payments/create-payment-intent"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:[t]})}).then((function(e){return e.json()})).then((function(e){return s(e.clientSecret)}))}),[t]);var i={clientSecret:r,appearance:{theme:"stripe"}};return Object(O.jsx)("div",{className:"payment-body",children:r&&Object(O.jsx)(q.Elements,{options:i,stripe:Z,children:Object(O.jsx)(X,{})})})}var $=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var c=arguments.length,n=new Array(c),r=0;r<c;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={productList:[],isLoading:!0,itemToBuy:null},e.handleProducts=function(){u.a.get("".concat("https://tradehub-app.herokuapp.com/api","/product/all"),{withCredentials:!0}).then((function(t){console.log(t.data),e.setState({productList:Object(w.a)(t.data)})})).catch((function(t){return e.props.history.push("/error")}))},e.handleClick=function(t){e.setState({itemToBuy:t})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.handleProducts()}},{key:"render",value:function(){var e=this,t=this.state,a=t.productList,c=(t.isLoading,t.itemToBuy),n=this.props.isLoggedIn;return Object(O.jsxs)("div",{class:"all-products",children:[n&&Object(O.jsx)(L.b,{to:"/sell",children:Object(O.jsx)("button",{children:"List Product"})}),Object(O.jsx)("h3",{children:"Latest Products"}),a.length&&Object(O.jsx)(O.Fragment,{children:a.map((function(t){return Object(O.jsxs)(P.a,{style:{width:"18rem"},children:[Object(O.jsx)(P.a.Img,{variant:"top",src:t.image}),Object(O.jsxs)(P.a.Body,{children:[Object(O.jsx)(P.a.Title,{children:t.name}),Object(O.jsx)(P.a.Text,{children:t.description}),Object(O.jsx)("button",{onClick:function(){return e.handleClick(t)},children:"Buy"}),Object(O.jsx)(L.b,{to:"/product/".concat(t._id),children:Object(O.jsx)("button",{children:"See Details"})}),c&&c._id===t._id&&Object(O.jsx)(Q,{itemToBuy:c})]})]})}))})]})}}]),a}(c.Component),ee=$,te=a(136),ae=a(135);var ce=function(){var e=Object(c.useState)([]),t=Object(B.a)(e,2),a=t[0],r=t[1],s=Object(c.useState)(!0),i=Object(B.a)(s,2),o=i[0],l=i[1];return Object(c.useEffect)((function(){u.a.get("".concat("https://tradehub-app.herokuapp.com/api","/product/my-products"),{withCredentials:!0}).then((function(e){r(Object(w.a)(e.data.products)),l(!1)})).catch((function(e){return console.log(e)}))}),[]),Object(O.jsx)("div",{children:o?Object(O.jsx)(v.RingLoader,{loading:o,size:50}):a.map((function(e){return Object(O.jsx)("div",{class:"product-card",children:Object(O.jsx)(n.a.Fragment,{children:Object(O.jsxs)(te.a.Item,{as:"li",className:"d-flex justify-content-between align-items-start",children:[Object(O.jsxs)("div",{className:"ms-2 me-auto",children:[Object(O.jsx)("div",{className:"fw-bold",children:e.name}),e.description]}),Object(O.jsx)(L.b,{to:"/product/".concat(e._id),children:Object(O.jsx)(ae.a,{variant:"primary",pill:!0,children:"details"})})]})},e._id)})}))})};var ne=function(){var e=Object(c.useState)([]),t=Object(B.a)(e,2),a=t[0],r=t[1],s=Object(c.useState)(!0),i=Object(B.a)(s,2),o=i[0],l=i[1];return Object(c.useEffect)((function(){u.a.get("".concat("https://tradehub-app.herokuapp.com/api","/thread/my-threads"),{withCredentials:!0}).then((function(e){r(Object(w.a)(e.data.threads)),l(!1)})).catch((function(e){console.log(e)}))}),[]),Object(O.jsx)("div",{children:o?Object(O.jsx)(v.RingLoader,{loading:o,size:50}):a.map((function(e){return Object(O.jsx)("div",{class:"thread-card",children:Object(O.jsx)(n.a.Fragment,{children:Object(O.jsxs)(te.a.Item,{as:"li",className:"d-flex justify-content-between align-items-start",children:[Object(O.jsxs)("div",{className:"ms-2 me-auto",children:[Object(O.jsx)("div",{className:"fw-bold",children:e.title}),e.description]}),Object(O.jsx)(L.b,{to:"/thread/".concat(e._id),children:Object(O.jsx)(ae.a,{variant:"primary",pill:!0,children:"details"})})]})},e._id)})}))})},re=(a(132),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var c=arguments.length,n=new Array(c),r=0;r<c;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={username:"",city:"",email:"",createdAt:"",profilePic:""},e.handleUserInfo=function(){u.a.get("".concat("https://tradehub-app.herokuapp.com/api","/profile"),{withCredentials:!0}).then((function(t){e.setState({username:t.data.username,email:t.data.email,city:t.data.city,createdAt:t.data.createdAt.slice(0,10),profilePic:t.data.profilePic})})).catch((function(t){e.props.history.push("/error")}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.handleUserInfo()}},{key:"render",value:function(){var e=this.state,t=e.username,a=e.city,c=e.email,n=e.createdAt,r=e.profilePic;return Object(O.jsxs)("div",{className:"profile-component",children:[Object(O.jsxs)("div",{className:"profile-img-div",children:[Object(O.jsx)("img",{src:r,className:"profile-img",alt:"Profile Img"}),Object(O.jsx)("h4",{children:t}),Object(O.jsxs)("p",{children:["TradeHub User Since ",n]}),Object(O.jsx)("p",{children:c}),Object(O.jsx)("p",{children:a}),Object(O.jsx)("button",{children:"Edit Profile"})]}),Object(O.jsxs)("div",{className:"profile-listings",children:[Object(O.jsxs)("div",{className:"profile-products",children:[Object(O.jsx)("h6",{children:"Your products"}),Object(O.jsx)(ce,{})]}),Object(O.jsxs)("div",{className:"profile-threads",children:[Object(O.jsx)("h6",{children:"Your Threads"}),Object(O.jsx)(ne,{})]})]})]})}}]),a}(c.Component)),se=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var c=arguments.length,n=new Array(c),r=0;r<c;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={description:"",errorMessage:""},e.handleChange=function(t){var a=t.target,c=a.name,n=a.value;e.setState(Object(b.a)({},c,n))},e.handleSubmit=function(t){var a=e.state.description;t.preventDefault(),u.a.post("".concat("https://tradehub-app.herokuapp.com/api","/comment/create/").concat(e.props.id),{description:a},{withCredentials:!0}).then((function(){return e.props.handleComments()})).catch((function(t){return e.setState({errorMessage:t.response.data.errorMessage})}))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state,t=e.description,a=e.errorMessage;return Object(O.jsxs)("div",{children:[Object(O.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(O.jsx)("label",{htmlFor:"title",children:"comment:"}),Object(O.jsx)("input",{type:"text",name:"description",value:t,onChange:this.handleChange}),Object(O.jsx)("button",{type:"submit",children:"submit"})]}),a&&Object(O.jsx)("p",{children:a})]})}}]),a}(c.Component),ie=se,oe=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var c=arguments.length,n=new Array(c),r=0;r<c;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={commentList:[],username:""},e.handleComments=function(){u.a.get("".concat("https://tradehub-app.herokuapp.com/api","/comment/all/").concat(e.props.id),{withCredentials:!0}).then((function(t){e.setState({commentList:Object(w.a)(t.data)})})).catch((function(t){return e.props.history.push("/500")}))},e.handleDelete=function(t){u.a.delete("".concat("https://tradehub-app.herokuapp.com/api","/comment/").concat(t)).then((function(){return e.props.history.push("/")})).catch((function(){return e.props.history.push("/500")}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.handleComments()}},{key:"render",value:function(){var e=this,t=this.state.commentList;return Object(O.jsxs)("div",{children:[Object(O.jsx)(ie,{id:this.props.id,history:this.props.history,handleComments:this.handleComments}),t.length&&Object(O.jsx)(O.Fragment,{children:t.map((function(t){return Object(O.jsxs)("div",{children:[Object(O.jsx)("p",{children:t.description}),Object(O.jsx)("p",{children:t.userId.username}),Object(O.jsx)("button",{onClick:function(){return e.handleDelete(t._id)},children:"Delete"})]})}))})]})}}]),a}(c.Component),le=oe,de=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var c=arguments.length,n=new Array(c),r=0;r<c;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={oneThread:null,isLoading:!0,edit:!1},e.handleDelete=function(){u.a.delete("".concat("https://tradehub-app.herokuapp.com/api","/thread/").concat(e.props.match.params.id)).then((function(){return e.props.history.push("/")})).catch((function(){return e.props.history.push("/error")}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props),u.a.get("".concat("https://tradehub-app.herokuapp.com/api","/thread/").concat(this.props.match.params.id),{withCredentials:!0}).then((function(t){e.setState({oneThread:t.data,isLoading:!1,edit:t.data.edit})})).catch((function(t){return e.props.history.push("/error")}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.oneThread,c=e.edit;return Object(O.jsxs)("div",{class:"one-thread-card",children:[Object(O.jsx)("h2",{children:"One Thread"}),t&&Object(O.jsx)("h1",{children:"...Loading"}),!t&&Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:a.title}),Object(O.jsx)("p",{children:a.description}),Object(O.jsx)("p",{children:a.category}),Object(O.jsx)(L.b,{to:"/thread/".concat(a._id,"/edit"),children:Object(O.jsx)("button",{children:"Edit"})}),Object(O.jsx)("button",{onClick:this.handleDelete,children:"Delete"}),c&&Object(O.jsx)("p",{children:"Edited"}),Object(O.jsx)(le,{id:this.props.match.params.id,history:this.props.history})]})]})}}]),a}(c.Component),he=de;function je(e){var t=e.history;return Object(O.jsxs)("div",{style:{marginTop:"10vh"},children:[Object(O.jsx)("h2",{children:"Oops... Someting Went Wrong. Please go back"}),Object(O.jsx)("button",{onClick:function(){return t.goBack()},children:"Go back"})]})}var ue=function(e){var t=e.history;return Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"Not fouund. Please go back"}),Object(O.jsx)("button",{onClick:function(){return t.goBack()},children:"Go back"})]})};var pe=function(e){var t=e.history;return Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"You are not authorized. Pleaso log in."}),Object(O.jsx)("button",{onClick:function(){return t.goBack()},children:"Go back"})]})},be=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var c=arguments.length,n=new Array(c),r=0;r<c;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={oneProduct:null,isLoading:!0,edit:!1},e.handleDelete=function(){u.a.delete("".concat("https://tradehub-app.herokuapp.com/api","/product/").concat(e.props.match.params.id)).then((function(){return e.props.history.push("/")})).catch((function(){return e.props.history.push("/error")}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;u.a.get("".concat("https://tradehub-app.herokuapp.com/api","/product/").concat(this.props.match.params.id),{withCredentials:!0}).then((function(t){e.setState({oneProduct:t.data,isLoading:!1,data:t.data.edit})})).catch((function(t){return e.props.history.push("/error")}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.oneProduct,c=e.edit;return Object(O.jsxs)("div",{class:"one-product-card",children:[t&&Object(O.jsx)("h1",{children:"...Loading"}),!t&&Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:a.name}),Object(O.jsx)("img",{src:a.image,alt:"item"}),Object(O.jsx)("p",{children:a.description}),Object(O.jsxs)("p",{children:["Price: \u20ac",a.price]}),Object(O.jsx)("p",{children:a.category}),Object(O.jsx)(L.b,{to:"/product/".concat(a._id,"/edit"),children:Object(O.jsx)("button",{children:"Edit"})}),Object(O.jsx)("button",{onClick:this.handleDelete,children:"Delete"}),c&&Object(O.jsx)("p",{children:"Edited"})]})]})}}]),a}(c.Component),me=be,Oe=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var c=arguments.length,n=new Array(c),r=0;r<c;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={user:null,isLoggedIn:null},e.setUser=function(t,a){e.setState({user:t,isLoggedIn:a})},e.getUser=function(){null===e.state.user&&u.a.get("".concat("https://tradehub-app.herokuapp.com/api","/auth/loggedin"),{withCredentials:!0}).then((function(t){e.setState({user:t.data.user||null,isLoggedIn:!0})})).catch((function(t){e.setState({isLoggedIn:!1})}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getUser()}},{key:"render",value:function(){var e=this,t=this.state,a=t.user,c=t.isLoggedIn;return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)(A,{isLoggedIn:c,user:a,setUser:this.setUser}),Object(O.jsxs)(p.c,{children:[Object(O.jsx)(p.a,{path:"/",component:D,exact:!0}),Object(O.jsx)(p.a,{path:"/signup",render:function(t){return Object(O.jsx)(y,Object(i.a)(Object(i.a)({},t),{},{setUser:e.setUser}))},exact:!0}),Object(O.jsx)(p.a,{path:"/marketplace",render:function(e){return Object(O.jsx)(ee,Object(i.a)(Object(i.a)({},e),{},{isLoggedIn:c,exact:!0}))}}),Object(O.jsx)(p.a,{path:"/login",render:function(t){return Object(O.jsx)(x,Object(i.a)(Object(i.a)({},t),{},{setUser:e.setUser}))},exact:!0}),Object(O.jsx)(p.a,{path:"/forum",render:function(e){return Object(O.jsx)(N,Object(i.a)(Object(i.a)({},e),{},{isLoggedIn:c}))},exact:!0}),Object(O.jsx)(p.a,{path:"/thread/:id",component:he,exact:!0}),Object(O.jsx)(p.a,{path:"/product/:id",component:me,exact:!0}),c&&Object(O.jsx)(p.a,{path:"/sell",component:R,exact:!0}),c&&Object(O.jsx)(p.a,{path:"/profile",component:re,exact:!0}),c&&Object(O.jsx)(p.a,{path:"/create",component:S,exact:!0}),Object(O.jsx)(p.a,{path:"/not-found",component:ue}),Object(O.jsx)(p.a,{path:"/not-authorized",component:pe}),Object(O.jsx)(p.a,{path:"/error",component:je})]})]})}}]),a}(c.Component),xe=Oe,ge=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,138)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),r(e),s(e)}))};s.a.render(Object(O.jsx)(n.a.StrictMode,{children:Object(O.jsx)(L.a,{children:Object(O.jsx)(xe,{})})}),document.getElementById("root")),ge()},56:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},72:function(e,t,a){},90:function(e,t,a){}},[[133,1,2]]]);
//# sourceMappingURL=main.cac249ce.chunk.js.map