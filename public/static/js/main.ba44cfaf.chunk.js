(this["webpackJsonpm3-final-project-fe"]=this["webpackJsonpm3-final-project-fe"]||[]).push([[0],{105:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n.n(a),i=n(46),r=n.n(i),o=(n(52),n(25)),s=n(5),l=n(6),h=n(8),u=n(7),p=n(4),d=n.n(p),j=n(3),b=(n(70),n(17)),m=n(1),O=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={email:"",password:""},e.handleChange=function(t){var n=t.target,a=n.name,c=n.value;e.setState(Object(b.a)({},a,c))},e.handleSubmit=function(t){var n=e.state,a=n.email,c=n.password;t.preventDefault(),d.a.post("".concat("https://tradehub-app.herokuapp.com/api","/auth/login"),{email:a,password:c},{withCredentials:!0}).then((function(t){e.setState({email:"",password:""}),e.props.setUser(t.data,!0),e.props.history.push("/")})).catch((function(e){return console.log(e)}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.password,n=e.email;return Object(m.jsx)("div",{children:Object(m.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(m.jsx)("input",{type:"email",name:"email",value:n,onChange:this.handleChange,placeholder:"example@example.com"}),Object(m.jsx)("input",{type:"text",name:"password",value:t,onChange:this.handleChange,placeholder:"Password"}),Object(m.jsx)("button",{type:"submit",children:"Login"})]})})}}]),n}(a.Component),g=n(20);n(72);var x=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={username:"",password:"",profilePic:"",email:"",city:"",imageIsUploading:!1},e.handleChange=function(t){var n=t.target,a=n.name,c=n.value;e.setState(Object(b.a)({},a,c))},e.handleImageUpload=function(t){console.log(t.target.files[0]),e.setState({imageIsUploading:!0});var n=new FormData;n.append("image",t.target.files[0]),d.a.post("".concat("https://tradehub-app.herokuapp.com/api","/upload"),n).then((function(t){console.log(t),e.setState({profilePic:t.data.imagePath,imageIsUploading:!1})})).catch((function(t){return e.props.history.push("/500")}))},e.handleSubmit=function(t){var n=e.state,a=n.username,c=n.password,i=n.email,r=n.city,o=n.profilePic;t.preventDefault(),d.a.post("".concat("https://tradehub-app.herokuapp.com/api","/auth/signup"),{username:a,password:c,profilePic:o,email:i,city:r}).then((function(t){e.setState({username:"",password:"",email:"",city:"",profilePic:""}),e.props.setUser(t.data,!0),e.props.history.push("/")})).catch((function(e){return console.log(e)}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.username,n=e.password,a=e.email,c=e.city,i=e.profilePic,r=e.imageIsUploading;return Object(m.jsx)("div",{children:Object(m.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(m.jsx)("input",{type:"text",name:"username",value:t,onChange:this.handleChange,placeholder:"Username"}),Object(m.jsx)("input",{type:"email",name:"email",value:a,onChange:this.handleChange,placeholder:"example@example.com"}),i&&Object(m.jsx)("img",{src:this.state.profilePic,alt:"profile pic uploaded"}),Object(m.jsx)(g.PacmanLoader,{loading:r,size:100}),Object(m.jsx)("input",{onChange:this.handleImageUpload,type:"file",name:"profilePic"}),Object(m.jsx)("input",{type:"text",name:"password",value:n,onChange:this.handleChange,placeholder:"Password"}),Object(m.jsx)("input",{type:"text",name:"city",value:c,onChange:this.handleChange,placeholder:"City"}),Object(m.jsx)("button",{type:"submit",children:"Register"})]})})}}]),n}(a.Component),f=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={title:"",description:"",category:"",isActive:!0,edit:!1},e.handleChange=function(t){var n=t.target,a=n.name,c=n.value;e.setState(Object(b.a)({},a,c))},e.handleSubmit=function(t){var n=e.state,a=n.title,c=n.description,i=n.category;t.preventDefault(),d.a.post("".concat("https://tradehub-app.herokuapp.com/api","/thread/create"),{title:a,description:c,category:i},{withCredentials:!0}).then((function(){return e.props.history.push("/")})).catch((function(){return e.props.history.push("/500")}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.title,n=e.description,a=e.category;return Object(m.jsx)("div",{children:Object(m.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(m.jsx)("label",{htmlFor:"title",children:"Title:"}),Object(m.jsx)("input",{name:"title",type:"text",value:t,onChange:this.handleChange}),Object(m.jsx)("label",{htmlFor:"description",children:"Description:"}),Object(m.jsx)("input",{name:"description",type:"text",value:n,onChange:this.handleChange}),Object(m.jsx)("label",{htmlFor:"category",children:"Category:"}),Object(m.jsx)("input",{name:"category",type:"text",value:a,onChange:this.handleChange}),Object(m.jsx)("button",{type:"submit",children:"submit"})]})})}}]),n}(a.Component),v=f,y=n(18),C=n(12),k=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={threadList:[]},e.handleThreads=function(){d.a.get("".concat("https://tradehub-app.herokuapp.com/api","/thread/all"),{withCredentials:!0}).then((function(t){e.setState({threadList:Object(y.a)(t.data)})})).catch((function(e){return console.log(e)}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.handleThreads()}},{key:"render",value:function(){var e=this.state.threadList;return Object(m.jsx)("div",{children:e.length&&Object(m.jsx)(m.Fragment,{children:e.map((function(e){return Object(m.jsx)(c.a.Fragment,{children:Object(m.jsxs)(C.b,{to:"/thread/".concat(e._id),children:[Object(m.jsx)("h4",{children:e.title}),Object(m.jsx)("p",{children:e.category})]})},e._id)}))})})}}]),n}(a.Component),S=k,w={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"90vh"},L={width:"60vw",textAlign:"center",lineHeight:"5vh"},U=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(m.jsx)("div",{style:w,children:Object(m.jsx)("h2",{style:L,children:"At TradeHub you will sell items you no longer use, and connect with the community."})})}}]),n}(a.Component),F=U,I=n(29),P=n(35),A={display:"flex",justifyContent:"space-evenly",alignItems:"center",height:"10vh",backgroundColor:"grey"},D={textDecoration:"none",color:"white"},T={color:"black"};function M(e){var t=e.isLoggedIn,n=(e.user,e.setUser);return Object(m.jsxs)("div",{style:A,children:[Object(m.jsx)(C.c,{style:D,activeStyle:T,exact:!0,to:"/",children:Object(m.jsx)(I.a,{})}),Object(m.jsx)(C.c,{style:D,activeStyle:T,to:"/forum",children:Object(m.jsx)(I.b,{})}),Object(m.jsx)(C.c,{style:D,activeStyle:T,to:"/marketplace",children:Object(m.jsx)(I.c,{})}),!t&&Object(m.jsxs)(m.Fragment,{children:[" ",Object(m.jsx)(C.c,{to:"/signup",style:D,activeStyle:T,children:Object(m.jsx)("h3",{children:"Register"})}),Object(m.jsx)(C.c,{to:"/login",style:D,activeStyle:T,children:Object(m.jsx)(P.a,{})})]}),t&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(C.c,{to:"/sell",style:D,activeStyle:T,children:Object(m.jsx)("h3",{children:"List Item"})}),Object(m.jsx)(C.c,{to:"/create",style:D,activeStyle:T,children:Object(m.jsx)("h3",{children:"Create Thread"})}),Object(m.jsx)(C.c,{to:"/profile",style:D,activeStyle:T,children:Object(m.jsx)("h3",{children:"profile"})}),Object(m.jsx)(C.c,{to:"/",style:D,activeStyle:T,children:Object(m.jsx)(P.b,{onClick:function(){d.a.post("".concat("https://tradehub-app.herokuapp.com/api","/auth/logout"),{},{withCredentials:!0}).then((function(){n(null,!1)}))}})})]})]})}var B=n(33),H=n.n(B),E=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={name:"",image:"",description:"",price:0,category:"",stock:0,imageIsUploading:!1},e.handleChange=function(t){var n=t.target,a=n.name,c=n.value;e.setState(Object(b.a)({},a,c))},e.handleImageUpload=function(t){e.setState({imageIsUploading:!0});var n=new FormData;n.append("image",t.target.files[0]),d.a.post("".concat("https://tradehub-app.herokuapp.com/api","/upload"),n).then((function(t){console.log(t),e.setState({image:t.data.imagePath,imageIsUploading:!1})})).catch((function(t){return e.props.history.push("/500")}))},e.handleSubmit=function(t){t.preventDefault();var n=e.state,a=n.name,c=n.image,i=n.description,r=n.price,o=n.category,s=n.stock;d.a.post("".concat("https://tradehub-app.herokuapp.com/api","/product/create"),{name:a,image:c,description:i,price:Number(r),category:o,stock:Number(s)},{withCredentials:!0}).then((function(){return e.props.history.push("/")})).catch((function(){return e.props.history.push("/500")}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.name,n=e.image,a=e.description,c=e.price,i=e.category,r=e.stock,o=e.imageIsUploading;return Object(m.jsx)("div",{children:Object(m.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(m.jsx)("label",{htmlFor:"name",children:"Name"}),Object(m.jsx)("input",{onChange:this.handleChange,type:"text",name:"name",value:t}),n&&Object(m.jsx)("img",{src:this.state.image,alt:"product uploaded"}),Object(m.jsx)(H.a,{loading:o,size:150}),Object(m.jsx)("input",{onChange:this.handleImageUpload,type:"file",name:"image"}),Object(m.jsx)("label",{htmlFor:"description",children:"Description"}),Object(m.jsx)("input",{onChange:this.handleChange,type:"text",name:"description",value:a}),Object(m.jsx)("label",{htmlFor:"price",children:"Price"}),Object(m.jsx)("input",{onChange:this.handleChange,type:"number",name:"price",value:c}),Object(m.jsx)("label",{htmlFor:"category",children:"Category"}),Object(m.jsxs)("select",{onChange:this.handleChange,id:"category",name:"category",value:i,children:[Object(m.jsx)("option",{value:"Mobile, Computers & Devices",children:"Mobile, Computers & Devices"}),Object(m.jsx)("option",{value:"Consoles & Videogames",children:"Consoles & Videogames"}),Object(m.jsx)("option",{value:"Fashion",children:"Fashion"}),Object(m.jsx)("option",{value:"Sports & Outdoors",children:"Sports & Outdoors"}),Object(m.jsx)("option",{value:"Home & Garden",children:"Home & Garden"}),Object(m.jsx)("option",{value:"Health & Beauty",children:"Health & Beauty"}),Object(m.jsx)("option",{value:"Cinema, Books & Music",children:"Cinema, Books & Music"}),Object(m.jsx)("option",{value:"Vehicles & Motor",children:"Vehicles & Motor"}),Object(m.jsx)("option",{value:"Art & Collectibles",children:"Art & Collectibles"}),Object(m.jsx)("option",{value:"Toys & Kids",children:"Toys & Kids"})]}),Object(m.jsx)("label",{htmlFor:"stock",children:"Stock"}),Object(m.jsx)("input",{onChange:this.handleChange,type:"number",name:"stock",value:r}),Object(m.jsx)("button",{type:"submit",disabled:o,children:"Add Product"})]})})}}]),n}(a.Component),N=E,_=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={productList:[]},e.handleProducts=function(){d.a.get("".concat("https://tradehub-app.herokuapp.com/api","/product/all"),{withCredentials:!0}).then((function(t){console.log(t.data),e.setState({productList:Object(y.a)(t.data)})})).catch((function(e){return console.log(e)}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.handleProducts()}},{key:"render",value:function(){var e=this.state.productList;return Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{children:"TEST"}),e.length&&Object(m.jsx)(m.Fragment,{children:e.map((function(e){return Object(m.jsxs)(c.a.Fragment,{children:[Object(m.jsx)("h4",{children:e.name}),Object(m.jsx)("p",{children:e.category})]},e._id)}))})]})}}]),n}(a.Component),z=_,G=n(21);var R=function(){var e=Object(a.useState)([]),t=Object(G.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(!0),o=Object(G.a)(r,2),s=o[0],l=o[1];return Object(a.useEffect)((function(){d.a.get("".concat("https://tradehub-app.herokuapp.com/api","/product/my-products"),{withCredentials:!0}).then((function(e){i(Object(y.a)(e.data.products)),l(!1)})).catch((function(e){return console.log(e)}))}),[]),Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{children:"All products listed by you"}),s?Object(m.jsx)(g.RingLoader,{loading:s,size:50}):n.map((function(e){return Object(m.jsxs)(c.a.Fragment,{children:[Object(m.jsx)("h2",{children:e.name}),Object(m.jsx)("p",{children:e.category})]},e._id)}))]})};var V=function(){var e=Object(a.useState)([]),t=Object(G.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(!0),o=Object(G.a)(r,2),s=o[0],l=o[1];return Object(a.useEffect)((function(){d.a.get("".concat("https://tradehub-app.herokuapp.com/api","/thread/my-threads"),{withCredentials:!0}).then((function(e){i(Object(y.a)(e.data.threads)),l(!1)})).catch((function(e){console.log(e)}))}),[]),Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{children:"All your threads"}),s?Object(m.jsx)(g.RingLoader,{loading:s,size:50}):n.map((function(e){return Object(m.jsxs)(c.a.Fragment,{children:[Object(m.jsx)("h2",{children:e.title}),Object(m.jsx)("p",{children:e.category})]},e._id)}))]})},W=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={username:"",city:""},e.handleUserInfo=function(){d.a.get("".concat("https://tradehub-app.herokuapp.com/api","/profile"),{withCredentials:!0}).then((function(t){e.setState({username:t.data.username,city:t.data.city}),console.log(e.state.username,e.state.city)})).catch((function(e){}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.handleUserInfo()}},{key:"render",value:function(){var e=this.state,t=e.username,n=e.city;return Object(m.jsxs)("div",{children:[Object(m.jsx)("h3",{children:"Welcome to your profile"}),Object(m.jsx)("h3",{children:t}),Object(m.jsx)("h3",{children:n}),Object(m.jsx)(V,{}),Object(m.jsx)(R,{})]})}}]),n}(a.Component),J=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={description:""},e.handleChange=function(t){var n=t.target,a=n.name,c=n.value;e.setState(Object(b.a)({},a,c))},e.handleSubmit=function(t){var n=e.state.description;t.preventDefault(),d.a.post("".concat("https://tradehub-app.herokuapp.com/api","/comment/create/").concat(e.props.id),{description:n},{withCredentials:!0}).then((function(){return e.props.handleComments()})).catch((function(){return e.props.history.push("/500")}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.description;return Object(m.jsx)("div",{children:Object(m.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(m.jsx)("label",{htmlFor:"title",children:"comment:"}),Object(m.jsx)("input",{type:"text",name:"description",value:e,onChange:this.handleChange}),Object(m.jsx)("button",{type:"submit",children:"submit"})]})})}}]),n}(a.Component),K=J,q=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={commentList:[]},e.handleComments=function(){d.a.get("".concat("https://tradehub-app.herokuapp.com/api","/comment/all/").concat(e.props.id),{withCredentials:!0}).then((function(t){e.setState({commentList:Object(y.a)(t.data)})})).catch((function(e){return console.log(e)}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.handleComments()}},{key:"render",value:function(){var e=this.state.commentList;return Object(m.jsxs)("div",{children:[Object(m.jsx)(K,{id:this.props.id,history:this.props.history,handleComments:this.handleComments}),e.length&&Object(m.jsx)(m.Fragment,{children:e.map((function(e){return Object(m.jsx)("p",{children:e.description})}))})]})}}]),n}(a.Component),Q=q,X=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={oneThread:null,isLoading:!0,edit:!1},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props),d.a.get("".concat("https://tradehub-app.herokuapp.com/api","/thread/").concat(this.props.match.params.id),{withCredentials:!0}).then((function(t){e.setState({oneThread:t.data,isLoading:!1,edit:t.data.edit})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.oneThread,a=e.edit;return Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{children:"One Thread"}),t&&Object(m.jsx)("h1",{children:"...Loading"}),!t&&Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{children:n.title}),Object(m.jsx)("p",{children:n.description}),Object(m.jsx)("p",{children:n.category}),a&&Object(m.jsx)("p",{children:"Edited"}),Object(m.jsx)(Q,{id:this.props.match.params.id})]})]})}}]),n}(a.Component),Y=X;function Z(e){var t=e.history;return Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{children:"Oops... Someting Went Wrong. Please go back"}),Object(m.jsx)("button",{onClick:function(){return t.goBack()},children:"Go back"})]})}var $=function(e){var t=e.history;return Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{children:"Not fouund. Please go back"}),Object(m.jsx)("button",{onClick:function(){return t.goBack()},children:"Go back"})]})},ee=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={user:null,isLoggedIn:null},e.setUser=function(t,n){e.setState({user:t,isLoggedIn:n})},e.getUser=function(){null===e.state.user&&d.a.get("".concat("https://tradehub-app.herokuapp.com/api","/auth/loggedin"),{withCredentials:!0}).then((function(t){e.setState({user:t.data.user||null,isLoggedIn:!0})})).catch((function(t){e.setState({isLoggedIn:!1})}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getUser()}},{key:"render",value:function(){var e=this,t=this.state,n=t.user,a=t.isLoggedIn;return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(M,{isLoggedIn:a,user:n,setUser:this.setUser}),Object(m.jsxs)(j.c,{children:[Object(m.jsx)(j.a,{path:"/",component:F,exact:!0}),Object(m.jsx)(j.a,{path:"/signup",render:function(t){return Object(m.jsx)(x,Object(o.a)(Object(o.a)({},t),{},{setUser:e.setUser}))},exact:!0}),Object(m.jsx)(j.a,{path:"/marketplace",component:z,exact:!0}),Object(m.jsx)(j.a,{path:"/login",render:function(t){return Object(m.jsx)(O,Object(o.a)(Object(o.a)({},t),{},{setUser:e.setUser}))},exact:!0}),Object(m.jsx)(j.a,{path:"/forum",component:S,exact:!0}),Object(m.jsx)(j.a,{path:"/thread/:id",component:Y,exact:!0}),a&&Object(m.jsx)(j.a,{path:"/sell",component:N,exact:!0}),a&&Object(m.jsx)(j.a,{path:"/profile",component:W,exact:!0}),a&&Object(m.jsx)(j.a,{path:"/create",component:v,exact:!0}),Object(m.jsx)(j.a,{path:"/500",component:Z}),Object(m.jsx)(j.a,{path:"/not-found",component:$})]})]})}}]),n}(a.Component),te=ee,ne=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,106)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))};r.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(C.a,{children:Object(m.jsx)(te,{})})}),document.getElementById("root")),ne()},52:function(e,t,n){},70:function(e,t,n){}},[[105,1,2]]]);
//# sourceMappingURL=main.ba44cfaf.chunk.js.map